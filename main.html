<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼—ä¹‹ç¿¼çŸ©é˜µ</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ä¿®å¤æ— å¤´æ¨¡å¼å’Œå¼€å§‹æ¢ç´¢æŒ‰é’®æ¯”ä¾‹çš„æ ·å¼è¡¥ä¸ -->
    <style>
        /* æ¯”ä¾‹åè°ƒä¼˜åŒ–è¡¥ä¸ */
        
        /* 1. é†’ç›®çš„æ— å¤´æ¨¡å¼åŒºåŸŸ */
        .headless-mode-section {
            margin-bottom: 16px !important;
            padding: 16px !important;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(168, 85, 247, 0.05)) !important;
            border-radius: 12px !important;
            border: 2px solid rgba(59, 130, 246, 0.2) !important;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.1) !important;
            flex: 1 !important;
            min-width: 320px !important;
            max-width: 450px !important;
            transition: all 0.3s ease !important;
        }
        
        .headless-mode-section:hover {
            border-color: rgba(59, 130, 246, 0.4) !important;
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.15) !important;
            transform: translateY(-1px) !important;
        }

        /* 2. ä¼˜åŒ–æ— å¤´æ¨¡å¼åˆ‡æ¢å¸ƒå±€ */
        .headless-mode-toggle {
            display: flex !important;
            flex-direction: row !important;
            align-items: center !important;
            gap: 12px !important;
        }

        /* 3. é†’ç›®çš„åˆ‡æ¢å¼€å…³ */
        .toggle-label {
            display: flex !important;
            align-items: center !important;
            cursor: pointer !important;
            font-size: 16px !important;
            font-weight: 600 !important;
            color: #1e40af !important;
            user-select: none !important;
            margin-bottom: 0 !important;
            transition: color 0.3s ease !important;
        }
        
        .toggle-label:hover {
            color: #1d4ed8 !important;
        }

        /* 4. çªå‡ºçš„æè¿°ä¿¡æ¯ */
        .headless-mode-description {
            display: flex !important;
            align-items: center !important;
            gap: 8px !important;
            margin-top: 8px !important;
            padding: 10px 14px !important;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(168, 85, 247, 0.08)) !important;
            border-radius: 8px !important;
            border-left: 4px solid #3b82f6 !important;
            flex: 1 !important;
            box-shadow: 0 2px 6px rgba(59, 130, 246, 0.1) !important;
        }

        .headless-mode-description span {
            font-size: 13px !important;
            color: #374151 !important;
            line-height: 1.4 !important;
            font-weight: 500 !important;
        }
        
        .headless-mode-description svg {
            color: #3b82f6 !important;
            flex-shrink: 0 !important;
        }

        /* 5. å¢å¼ºå¼€å§‹æ¢ç´¢æŒ‰é’® */
        .filter-actions .btn-info {
            /* å¢å¤§æŒ‰é’®å°ºå¯¸ */
            padding: 16px 32px !important;
            font-size: 16px !important;
            font-weight: 700 !important;
            
            /* å¢å¼ºè§†è§‰æ•ˆæœ */
            background: rgba(59, 130, 246, 0.15) !important;
            border: 2px solid rgba(59, 130, 246, 0.4) !important;
            border-radius: 12px !important;
            
            /* æ›´çªå‡ºçš„é¢œè‰² */
            color: #1e40af !important;
            
            /* å¢å¼ºé˜´å½±æ•ˆæœ */
            box-shadow: 
                inset 0 1px 0 rgba(255, 255, 255, 0.7),
                0 6px 12px rgba(59, 130, 246, 0.2),
                0 3px 6px rgba(59, 130, 246, 0.1) !important;
            
            /* ç¡®ä¿æŒ‰é’®æœ‰è¶³å¤Ÿçš„æœ€å°å®½åº¦ */
            min-width: 160px !important;
            min-height: 52px !important;
        }

        .filter-actions .btn-info svg {
            width: 22px !important;
            height: 22px !important;
        }

        .filter-actions .btn-info:hover {
            background: rgba(59, 130, 246, 0.25) !important;
            border-color: rgba(59, 130, 246, 0.6) !important;
            color: #1e3a8a !important;
            
            /* å¢å¼ºæ‚¬åœé˜´å½± */
            box-shadow: 
                inset 0 1px 0 rgba(255, 255, 255, 0.9),
                0 10px 20px rgba(59, 130, 246, 0.3),
                0 5px 10px rgba(59, 130, 246, 0.2) !important;
            
            /* è½»å¾®ä¸Šæµ®æ•ˆæœ */
            transform: translateY(-3px) !important;
        }

        /* 6. æ”¹å–„æ•´ä½“å®¹å™¨å¸ƒå±€ */
        .filter-actions {
            display: flex !important;
            align-items: stretch !important;
            gap: 16px !important;
            flex-wrap: wrap !important;
            justify-content: space-between !important;
            padding: 8px 0 !important;
        }

        /* 7. å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            .filter-actions {
                flex-direction: column !important;
                align-items: stretch !important;
                gap: 12px !important;
            }
            
            .headless-mode-section {
                max-width: none !important;
                min-width: auto !important;
            }
            
            .filter-actions .btn-info {
                min-width: auto !important;
                width: 100% !important;
            }
        }

        /* 8. ä¸­ç­‰å±å¹•ä¼˜åŒ– */
        @media (min-width: 769px) and (max-width: 1024px) {
            .filter-actions {
                flex-direction: row !important;
                align-items: center !important;
            }
            
            .headless-mode-section {
                flex: 1 !important;
                max-width: 320px !important;
            }
            
            .filter-actions .btn-info {
                flex-shrink: 0 !important;
                min-width: 140px !important;
            }
        }

        /* ä»£ç†é…ç½®æ ·å¼ */
        .proxy-config-section {
            margin-top: 16px;
            padding: 16px;
            background: rgba(248, 250, 252, 0.8);
            border: 1px solid rgba(226, 232, 240, 0.6);
            border-radius: 8px;
        }

        .proxy-config-section label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            color: #374151;
            cursor: pointer;
            margin-bottom: 12px;
        }

        .proxy-config-section label input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: #3b82f6;
            cursor: pointer;
        }

        .proxy-config-panel {
            margin-top: 12px;
            padding: 16px;
            background: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .proxy-config-row {
            display: flex;
            gap: 16px;
            margin-bottom: 16px;
            flex-wrap: wrap;
        }

        .proxy-config-row:last-child {
            margin-bottom: 0;
        }

        .proxy-config-item {
            flex: 1;
            min-width: 150px;
        }

        .proxy-config-item:last-child {
            flex: 0 0 auto;
            display: flex;
            align-items: end;
        }

        .proxy-config-item label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 6px;
        }

        .proxy-config-item input,
        .proxy-config-item select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s ease;
        }

        .proxy-config-item input:focus,
        .proxy-config-item select:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .btn-test-proxy {
            padding: 8px 16px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .btn-test-proxy:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
        }

        .btn-test-proxy:active {
            background: #d1d5db;
        }

        .btn-test-proxy.testing {
            background: #fef3c7;
            border-color: #f59e0b;
            color: #d97706;
        }

        .btn-test-proxy.success {
            background: #dcfce7;
            border-color: #16a34a;
            color: #15803d;
        }

        .btn-test-proxy.error {
            background: #fee2e2;
            border-color: #dc2626;
            color: #dc2626;
        }

        .proxy-config-note {
            margin-top: 12px;
            padding: 8px 12px;
            background: rgba(59, 130, 246, 0.05);
            border-left: 3px solid #3b82f6;
            border-radius: 4px;
        }

        .proxy-config-note small {
            color: #6b7280;
            font-size: 13px;
            line-height: 1.4;
        }

        /* å“åº”å¼ä¼˜åŒ– */
        @media (max-width: 768px) {
            .proxy-config-row {
                flex-direction: column;
                gap: 12px;
            }

            .proxy-config-item {
                min-width: auto;
            }

            .proxy-config-item:last-child {
                flex: 1;
                align-items: stretch;
            }

            .btn-test-proxy {
                width: 100%;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- å·¦ä¾§è¾¹æ  -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L2 7L12 12L22 7L12 2Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M2 17L12 22L22 17" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                        <path d="M2 12L12 17L22 12" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                    </svg>
                    <span>ä¼—ä¹‹ç¿¼</span>
                </div>
                <div class="subtitle">å°çº¢ä¹¦æ•°å­—è¥é”€çŸ©é˜µè·å®¢ç³»ç»Ÿ</div>
            </div>
            
            <nav class="sidebar-nav">
                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 16.7909 18.2091 15 16 15H8C5.79086 15 4 16.7909 4 19V21M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>è´¦å·ç®¡ç†</span>
                </div>
                
                
                <div class="nav-item active">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 11H15M9 15H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1054 21 18 21H17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>å†…å®¹åˆ›ä½œ</span>
                </div>


                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 19L19 12L12 5L5 12L12 19Z" stroke="#ff6b8a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>å‘å¸ƒç®¡ç†</span>
                </div>
                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 17H20L18.5951 15.5951C18.2141 15.2141 18 14.6973 18 14.1585V11C18 8.38757 16.3304 6.16509 14 5.34142V5C14 3.89543 13.1046 3 12 3C10.8954 3 10 3.89543 10 5V5.34142C7.66962 6.16509 6 8.38757 6 11V14.1585C6 14.6973 5.78595 15.2141 5.40493 15.5951L4 17H9M15 17V18C15 19.6569 13.6569 21 12 21C10.3431 21 9 19.6569 9 18V17M15 17H9" stroke="#ffc107" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>é€šçŸ¥ç®¡ç†</span>
                </div>



                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 12H15M9 16H15M17 21H7C5.89543 21 5 20.1046 5 19V5C5 3.89543 5.89543 3 7 3H12.5858C12.851 3 13.1054 3.10536 13.2929 3.29289L19.7071 9.70711C19.8946 9.89464 20 10.149 20 10.4142V19C20 20.1046 19.1054 21 18 21H17Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>å†…å®¹åº“</span>
                </div>
                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 9L16 15L8 21V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>çˆ†æ¬¾æ‹†è§£</span>
                </div>
                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 16L8.586 11.414C8.96106 11.0391 9.46967 10.8284 10 10.8284C10.5303 10.8284 11.0389 11.0391 11.414 11.414L16 16M14 14L15.586 12.414C15.9611 12.0391 16.4697 11.8284 17 11.8284C17.5303 11.8284 18.0389 12.0391 18.414 12.414L20 14M14 8H14.01M6 20H18C19.1046 20 20 19.1046 20 18V6C20 4.89543 19.1046 4 18 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>æ–‡ç”Ÿå›¾</span>
                </div>
                
                <div class="nav-item">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6002 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.78279 18.7618 9.56011 18.6002 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.78279 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C7.98466 5.5231 8.24634 5.60755 8.51677 5.62848C8.78721 5.64942 9.05877 5.60624 9.30938 5.50247C9.55999 5.3987 9.78258 5.23726 9.95905 5.03127C10.1355 4.82529 10.2609 4.58056 10.325 4.317Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>ç³»ç»Ÿè®¾ç½®</span>
                </div>
            </nav>
        </div>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <div class="main-content">
            <!-- AIæ™ºèƒ½åˆ›ä½œåŒºåŸŸ -->
            <div class="content-section active" id="ai-creation">
                <div class="section-header">
                    <h1>AIæ™ºèƒ½åˆ›ä½œ</h1>
                    <p>è®©AIå¸®ä½ åˆ›ä½œå‡ºè‰²çš„å°çº¢ä¹¦å†…å®¹</p>
                </div>
                
                <div class="creation-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">äº§å“åç§° <span class="required">*</span></label>
                            <input type="text" id="productName" placeholder="è¯·è¾“å…¥äº§å“åç§°ï¼Œæ¯”å¦‚ï¼šå…°è”»å°é»‘ç“¶ç²¾å">
                        </div>
                        <div class="form-group">
                            <label for="style">åˆ›ä½œé£æ ¼</label>
                            <select id="style">
                                <option value="ä»·å€¼åé—®å‹">ä»·å€¼åé—®å‹</option>
                                <option value="åœºæ™¯ç—›ç‚¹å‹">åœºæ™¯ç—›ç‚¹å‹</option>
                                <option value="ç§‘æ™®ç±»å‹">ç§‘æ™®ç±»å‹</option>
                                <option value="é€šç”¨å‹">é€šç”¨å‹ï¼ˆæ— ç‰¹å®šé£æ ¼ï¼‰</option>
                                <option value="å¯¹æ¯”æµ‹è¯„å‹">å¯¹æ¯”æµ‹è¯„å‹</option>
                                <option value="æ•…äº‹å™è¿°å‹">æ•…äº‹å™è¿°å‹</option>
                                <option value="è¸©é›·é¿å‘å‹">è¸©é›·é¿å‘å‹</option>
                                <option value="äººç¾¤å®šå‘å‹">äººç¾¤å®šå‘å‹</option>
                                <option value="é¢œå€¼ç§è‰å‹">é¢œå€¼ç§è‰å‹</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="productFeatures">äº§å“ç‰¹ç‚¹ <span class="required">*</span></label>
                            <textarea id="productFeatures" placeholder="è¯·æè¿°äº§å“çš„æ ¸å¿ƒç‰¹å¾å’ŒåŠŸèƒ½ï¼Œæ¯”å¦‚ï¼šå«æœ‰å°åˆ†å­é€æ˜è´¨é…¸ï¼Œæ·±åº¦è¡¥æ°´ï¼Œè´¨åœ°è½»è–„æ˜“å¸æ”¶"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productAdvantages">äº§å“ä¼˜ç‚¹ <span class="optional">ï¼ˆå¯é€‰ï¼‰</span></label>
                            <textarea id="productAdvantages" placeholder="ç›¸æ¯”å…¶ä»–åŒç±»äº§å“çš„ä¼˜åŠ¿ï¼Œæ¯”å¦‚ï¼šæ€§ä»·æ¯”é«˜ã€å“ç‰Œå†å²æ‚ ä¹…ã€è·å¾—ä¸“ä¸šè®¤è¯ç­‰"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="userBenefits">å¯¹ç”¨æˆ·çš„å¥½å¤„ <span class="optional">ï¼ˆå¯é€‰ï¼‰</span></label>
                            <textarea id="userBenefits" placeholder="ç”¨æˆ·ä½¿ç”¨åèƒ½è·å¾—çš„ä»·å€¼ï¼Œæ¯”å¦‚ï¼šè‚Œè‚¤æ›´æ°´æ¶¦ã€å‡å°‘ç»†çº¹ã€æå‡è‡ªä¿¡ç­‰"></textarea>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="batch">æ‰¹é‡ç”Ÿæˆ</label>
                            <select id="batch">
                                <option value="1" selected>ç”Ÿæˆ1ç¯‡</option>
                                <option value="3">ç”Ÿæˆ3ç¯‡</option>
                                <option value="5">ç”Ÿæˆ5ç¯‡</option>
                                <option value="10">ç”Ÿæˆ10ç¯‡</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- å›¾ç‰‡ä¸Šä¼ åŒºåŸŸ -->
                    <div class="form-group full-width">
                        <label>é…å›¾ä¸Šä¼ ï¼ˆå¯é€‰ï¼‰</label>
                        <div class="ai-upload-area" onclick="document.getElementById('ai-file-input').click()">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            <p>ä¸Šä¼ é…å›¾è®©AIåˆ›ä½œæ›´ç²¾å‡†</p>
                            <p class="upload-hint">æ”¯æŒJPGã€PNGæ ¼å¼ï¼Œæœ€å¤§10MB</p>
                        </div>
                        <input type="file" id="ai-file-input" style="display: none" multiple accept="image/*" onchange="handleAIFileUpload(this)">
                        <div id="ai-image-preview" class="ai-image-preview"></div>
                    </div>
                    
                    <div class="ai-form-actions">
                        <button class="btn-secondary" onclick="resetAIForm()">é‡ç½®</button>
                        <button class="create-btn" onclick="startCreation()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M13 10V3L4 14H11L11 21L20 10H13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            å¼€å§‹åˆ›ä½œ
                        </button>
                    </div>
                </div>
                
                <!-- ç”Ÿæˆç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                <div id="generation-results" class="generation-results" style="display: none;">
                    <div class="results-header">
                        <h3>ç”Ÿæˆç»“æœ</h3>
                        <div class="results-controls">
                            <div class="selection-controls">
                                <input type="checkbox" id="select-all" onchange="toggleSelectAll(this.checked)">
                                <label for="select-all">å…¨é€‰</label>
                            </div>
                            <div class="action-buttons">
                                <button class="btn-primary" onclick="saveSelectedToLibrary()" id="save-selected-btn" disabled>ä¿å­˜é€‰ä¸­åˆ°å†…å®¹åº“</button>
                                <button class="btn-secondary" onclick="clearResults()">æ¸…ç©ºç»“æœ</button>
                            </div>
                        </div>
                    </div>
                    <div id="results-container" class="results-container">
                        <!-- ç”Ÿæˆçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                    </div>
                </div>
                
                <!-- æ‰‹åŠ¨ä¸Šä¼ å†…å®¹åŒºåŸŸ -->
                <div class="manual-upload-section">
                    <div class="section-header collapsible-header" onclick="toggleManualUploadSection()">
                        <div class="header-content">
                            <h2>æ‰‹åŠ¨ä¸Šä¼ å†…å®¹</h2>
                            <p>ä¸Šä¼ å·²æœ‰çš„å›¾æ–‡å†…å®¹åˆ°å†…å®¹åº“</p>
                        </div>
                        <div class="collapse-toggle">
                            <svg class="collapse-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M6 9L12 15L18 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                    </div>
                    
                    <div class="upload-form collapsible-content collapsed">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="title">æ ‡é¢˜</label>
                                <input type="text" id="title" placeholder="è¾“å…¥å›¾æ–‡æ ‡é¢˜">
                            </div>
                            <div class="form-group">
                                <label for="tags">æ ‡ç­¾</label>
                                <input type="text" id="tags" placeholder="è¾“å…¥æ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="content">æ­£æ–‡å†…å®¹</label>
                            <textarea id="content" placeholder="è¾“å…¥æ­£æ–‡å†…å®¹" rows="8"></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label>ä¸Šä¼ å›¾ç‰‡</label>
                            <div class="upload-area" onclick="document.getElementById('file-input').click()">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <p>ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡</p>
                                <p class="upload-hint">æ”¯æŒJPGã€PNGæ ¼å¼ï¼Œæœ€å¤§10MB</p>
                            </div>
                            <input type="file" id="file-input" style="display: none" multiple accept="image/*" onchange="handleFileUpload(this)">
                        </div>
                        
                        <div id="image-preview" class="image-preview"></div>
                        
                        <div class="form-actions">
                            <button class="btn-secondary" onclick="resetForm()">é‡ç½®</button>
                            <button class="btn-primary" onclick="saveContent()">ä¿å­˜åˆ°å†…å®¹åº“</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- æ–‡ç”Ÿå›¾åŒºåŸŸ -->
            <div class="content-section" id="text-to-image">
                <div class="section-header">
                    <h1>æ–‡ç”Ÿå›¾</h1>
                    <p>åˆ›å»ºå›¾ç‰‡å†…å®¹ï¼Œæ”¯æŒæ–‡å­—ç”Ÿæˆå’Œå›¾ç‰‡å‚è€ƒä¸¤ç§æ¨¡å¼</p>
                </div>

                <!-- æ¨¡å¼åˆ‡æ¢æ ‡ç­¾ -->
                <div class="generation-mode-tabs">
                    <div class="mode-tab-header">
                        <button class="mode-tab-btn active" onclick="switchGenerationMode('text')" data-mode="text">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            æ–‡ç”Ÿå›¾
                        </button>
                        <button class="mode-tab-btn" onclick="switchGenerationMode('image')" data-mode="image">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                                <circle cx="9" cy="9" r="2" stroke="currentColor" stroke-width="2"/>
                                <path d="M21 15L16 10L5 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            å›¾ç”Ÿå›¾
                        </button>
                    </div>
                </div>

                <!-- æ–‡å­—ç”Ÿæˆæ¨¡å¼ -->
                <div class="creation-form" id="text-generation-mode">
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="t2i-text">è¾“å…¥æ–‡å­—</label>
                            <textarea id="t2i-text" placeholder="è¾“å…¥è¦è½¬æ¢æˆå›¾ç‰‡çš„æ–‡å­—" rows="6"></textarea>
                        </div>
                    </div>

                    <div class="form-row template-controls-layout">
                        <div class="form-group template-section">
                            <label for="template-category">å›¾ç‰‡æ¨¡æ¿</label>
                            <div class="template-selector">
                                <!-- åˆ†ç±»æ ‡ç­¾ -->
                                <div class="template-categories">
                                    <button type="button" class="category-btn active" data-category="favorites">
                                        â­ å¸¸ç”¨æ¨¡æ¿
                                    </button>

                                    <button type="button" class="category-btn" data-category="sticky">
                                        ğŸ“ ä¾¿ç­¾çº¸
                                    </button>
                                    <button type="button" class="category-btn" data-category="cute">
                                        ğŸ€ å¯çˆ±é£æ ¼
                                    </button>
                                    <button type="button" class="category-btn" data-category="nature">
                                        ğŸŒ¿ è‡ªç„¶é£å…‰
                                    </button>
                                    <button type="button" class="category-btn" data-category="life">
                                        â˜• ç”Ÿæ´»åœºæ™¯
                                    </button>
                                    <button type="button" class="category-btn" data-category="magic">
                                        âœ¨ é­”å¹»æ¢¦æƒ³
                                    </button>
                                    <button type="button" class="category-btn" data-category="artistic">
                                        ğŸ¨ è‰ºæœ¯è®¾è®¡
                                    </button>
                                    <button type="button" class="category-btn" data-category="tech">
                                        ğŸ”® ç§‘æŠ€ä¸»é¢˜
                                    </button>
                                </div>
                                
                                <!-- éšè—çš„å®é™…é€‰æ‹©å™¨ -->
                                <select id="t2i-template" style="display: none;">
                                    <option value="sticky-note-yellow" selected>é»„è‰²ä¾¿ç­¾</option>
                                </select>
                                
                                <!-- æ¨¡æ¿ç½‘æ ¼ -->
                                <div class="template-grid">

                                    
                                    <!-- ä¾¿ç­¾çº¸ -->
                                    <div class="template-category-content" data-category="sticky" style="display: none;">
                                        <div class="template-item" data-template="sticky-note-yellow">
                                            <div class="template-preview sticky-yellow-preview"></div>
                                            <span>ğŸ“ é»„è‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-green">
                                            <div class="template-preview sticky-green-preview"></div>
                                            <span>ğŸŒ¿ ç»¿è‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-blue">
                                            <div class="template-preview sticky-blue-preview"></div>
                                            <span>ğŸ’™ è“è‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-purple">
                                            <div class="template-preview sticky-purple-preview"></div>
                                            <span>ğŸ’œ ç´«è‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-orange">
                                            <div class="template-preview sticky-orange-preview"></div>
                                            <span>ğŸ§¡ æ©™è‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-coral">
                                            <div class="template-preview sticky-coral-preview"></div>
                                            <span>ğŸª¸ çŠç‘šä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-lavender">
                                            <div class="template-preview sticky-lavender-preview"></div>
                                            <span>ğŸ’ è–°è¡£è‰ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="sticky-note-peach">
                                            <div class="template-preview sticky-peach-preview"></div>
                                            <span>ğŸ‘ æ¡ƒè‰²ä¾¿ç­¾</span>
                                        </div>
                                        <div class="template-item" data-template="notebook-paper">
                                            <div class="template-preview notebook-preview"></div>
                                            <span>ğŸ“– ç¬”è®°æœ¬çº¸</span>
                                        </div>
                                        <div class="template-item" data-template="memo-pink">
                                            <div class="template-preview memo-pink-preview"></div>
                                            <span>ğŸ“„ ç²‰è‰²å¤‡å¿˜</span>
                                        </div>
                                        <div class="template-item" data-template="highlight-orange">
                                            <div class="template-preview highlight-preview"></div>
                                            <span>ğŸ” æ©™è‰²å¼ºè°ƒ</span>
                                        </div>
                                        <div class="template-item" data-template="study-focus">
                                            <div class="template-preview study-preview"></div>
                                            <span>ğŸ¯ å­¦ä¹ é‡ç‚¹</span>
                                        </div>
                                    </div>
                                    
                                    <!-- å¯çˆ±é£æ ¼ -->
                                    <div class="template-category-content" data-category="cute" style="display: none;">
                                        <div class="template-item" data-template="pastel-pink">
                                            <div class="template-preview pastel-pink-preview"></div>
                                            <span>é©¬å¡é¾™ç²‰</span>
                                        </div>
                                        <div class="template-item" data-template="pastel-mint">
                                            <div class="template-preview pastel-mint-preview"></div>
                                            <span>é©¬å¡é¾™è–„è·</span>
                                        </div>
                                        <div class="template-item" data-template="polka-dots">
                                            <div class="template-preview polka-dots-preview"></div>
                                            <span>å¯çˆ±æ³¢ç‚¹</span>
                                        </div>
                                        <div class="template-item" data-template="candy-stripes">
                                            <div class="template-preview candy-stripes-preview"></div>
                                            <span>ç³–æœæ¡çº¹</span>
                                        </div>
                                        <div class="template-item" data-template="hearts">
                                            <div class="template-preview hearts-preview"></div>
                                            <span>çˆ±å¿ƒæ’’èŠ±</span>
                                        </div>
                                        <div class="template-item" data-template="bubbles">
                                            <div class="template-preview bubbles-preview"></div>
                                            <span>æ³¡æ³¡æ¢¦å¹»</span>
                                        </div>
                                        <div class="template-item" data-template="gingham">
                                            <div class="template-preview gingham-preview"></div>
                                            <span>æ ¼çº¹å¥¶æ²¹</span>
                                        </div>
                                        <div class="template-item" data-template="kawaii-clouds">
                                            <div class="template-preview kawaii-clouds-preview"></div>
                                            <span>èŒç³»äº‘æœµ</span>
                                        </div>
                                    </div>
                                    
                                    <!-- è‡ªç„¶é£å…‰ -->
                                    <div class="template-category-content" data-category="nature" style="display: none;">
                                        <div class="template-item" data-template="forest-fresh">
                                            <div class="template-preview forest-preview"></div>
                                            <span>æ¸…æ–°æ£®æ—</span>
                                        </div>
                                        <div class="template-item" data-template="ocean-waves">
                                            <div class="template-preview ocean-preview"></div>
                                            <span>ğŸŒŠ æµ·æµªæ¶ŒåŠ¨</span>
                                        </div>
                                        <div class="template-item" data-template="golden-autumn">
                                            <div class="template-preview autumn-preview"></div>
                                            <span>ğŸ‚ é‡‘ç§‹è½å¶</span>
                                        </div>
                                        <div class="template-item" data-template="sunset-glow">
                                            <div class="template-preview sunset-preview"></div>
                                            <span>å¤•é˜³æ©™å…‰</span>
                                        </div>
                                        <div class="template-item" data-template="cherry-blossom">
                                            <div class="template-preview cherry-preview"></div>
                                            <span>ğŸŒº æ¨±èŠ±é£èˆ</span>
                                        </div>
                                        <div class="template-item" data-template="flower-garden">
                                            <div class="template-preview flower-preview"></div>
                                            <span>ğŸŒ¸ èŠ±å›­ç››å¼€</span>
                                        </div>
                                    </div>
                                    
                                    <!-- ç”Ÿæ´»åœºæ™¯ -->
                                    <div class="template-category-content" data-category="life" style="display: none;">
                                        <div class="template-item" data-template="coffee-time">
                                            <div class="template-preview coffee-preview"></div>
                                            <span>â˜• å’–å•¡æ—¶å…‰</span>
                                        </div>
                                        <div class="template-item" data-template="book-wisdom">
                                            <div class="template-preview book-preview"></div>
                                            <span>ğŸ“š ä¹¦é¦™æ™ºæ…§</span>
                                        </div>
                                        <div class="template-item" data-template="music-vibes">
                                            <div class="template-preview music-preview"></div>
                                            <span>ğŸµ éŸ³ä¹å¾‹åŠ¨</span>
                                        </div>
                                        <div class="template-item" data-template="travel-dream">
                                            <div class="template-preview travel-preview"></div>
                                            <span>âœˆï¸ æ—…è¡Œæ¢¦æƒ³</span>
                                        </div>
                                        <div class="template-item" data-template="celebration-party">
                                            <div class="template-preview celebration-preview"></div>
                                            <span>ğŸ‰ åº†ç¥æ´¾å¯¹</span>
                                        </div>
                                    </div>
                                    
                                    <!-- é­”å¹»æ¢¦æƒ³ -->
                                    <div class="template-category-content" data-category="magic" style="display: none;">
                                        <div class="template-item" data-template="rainbow-soft">
                                            <div class="template-preview rainbow-soft-preview"></div>
                                            <span>æŸ”å’Œå½©è™¹</span>
                                        </div>
                                        <div class="template-item" data-template="rainbow-magic">
                                            <div class="template-preview rainbow-magic-preview"></div>
                                            <span>ğŸŒˆ å½©è™¹é­”æ³•</span>
                                        </div>
                                        <div class="template-item" data-template="star-sky">
                                            <div class="template-preview star-preview"></div>
                                            <span>æ˜Ÿæ˜Ÿå¤œç©º</span>
                                        </div>
                                        <div class="template-item" data-template="space-galaxy">
                                            <div class="template-preview space-preview"></div>
                                            <span>ğŸŒŸ é“¶æ²³æ˜Ÿç³»</span>
                                        </div>
                                        <div class="template-item" data-template="fire-passion">
                                            <div class="template-preview fire-preview"></div>
                                            <span>ğŸ”¥ çƒ­æƒ…ç‡ƒçƒ§</span>
                                        </div>
                                    </div>
                                    
                                    <!-- è‰ºæœ¯è®¾è®¡ -->
                                    <div class="template-category-content" data-category="artistic" style="display: none;">
                                        <div class="template-item" data-template="watercolor-art">
                                            <div class="template-preview watercolor-preview"></div>
                                            <span>ğŸ¨ æ°´å½©è‰ºæœ¯</span>
                                        </div>
                                        <div class="template-item" data-template="sketch-draw">
                                            <div class="template-preview sketch-preview"></div>
                                            <span>âœï¸ ç´ æç”»å†Œ</span>
                                        </div>
                                        <div class="template-item" data-template="neon-glow">
                                            <div class="template-preview neon-preview"></div>
                                            <span>ğŸ’« éœ“è™¹å‘å…‰</span>
                                        </div>
                                        <div class="template-item" data-template="marble-texture">
                                            <div class="template-preview marble-preview"></div>
                                            <span>ğŸ›ï¸ å¤§ç†çŸ³çº¹</span>
                                        </div>
                                        <div class="template-item" data-template="vintage-paper">
                                            <div class="template-preview vintage-preview"></div>
                                            <span>ğŸ“œ å¤å¤çº¸å¼ </span>
                                        </div>
                                        <div class="template-item" data-template="cyberpunk-city">
                                            <div class="template-preview cyberpunk-preview"></div>
                                            <span>ğŸ™ï¸ èµ›åšæœ‹å…‹</span>
                                        </div>
                                        <div class="template-item" data-template="origami-fold">
                                            <div class="template-preview origami-preview"></div>
                                            <span>ğŸ—¾ æŠ˜çº¸è‰ºæœ¯</span>
                                        </div>
                                        <div class="template-item" data-template="glass-effect">
                                            <div class="template-preview glass-preview"></div>
                                            <span>ğŸ”® ç»ç’ƒè´¨æ„Ÿ</span>
                                        </div>
                                    </div>
                                    
                                    <!-- ç§‘æŠ€ä¸»é¢˜ -->
                                    <div class="template-category-content" data-category="tech" style="display: none;">
                                        <div class="template-item" data-template="circuit-board">
                                            <div class="template-preview circuit-preview"></div>
                                            <span>âš¡ ç”µè·¯æ¿</span>
                                        </div>
                                        <div class="template-item" data-template="hologram-display">
                                            <div class="template-preview hologram-preview"></div>
                                            <span>ğŸ“± å…¨æ¯æ˜¾ç¤º</span>
                                        </div>
                                        <div class="template-item" data-template="matrix-code">
                                            <div class="template-preview matrix-preview"></div>
                                            <span>ğŸ’» çŸ©é˜µä»£ç </span>
                                        </div>
                                        <div class="template-item" data-template="data-stream">
                                            <div class="template-preview data-stream-preview"></div>
                                            <span>ğŸ“Š æ•°æ®æµ</span>
                                        </div>
                                    </div>

                                    
                                    <!-- å¸¸ç”¨æ¨¡æ¿ -->
                                    <div class="template-category-content" data-category="favorites">
                                        <div class="favorites-empty" style="display: block;">
                                            <div class="empty-state">
                                                <div class="empty-icon">â­</div>
                                                <h3>è¿˜æ²¡æœ‰å¸¸ç”¨æ¨¡æ¿</h3>
                                                <p>ç‚¹å‡»å…¶ä»–åˆ†ç±»ä¸­æ¨¡æ¿å³ä¸Šè§’çš„ â¤ï¸ æŒ‰é’®ï¼Œå°†å–œæ¬¢çš„æ¨¡æ¿æ·»åŠ åˆ°è¿™é‡Œ</p>
                                            </div>
                                        </div>
                                        <div class="favorites-content">
                                            <!-- åŠ¨æ€ç”Ÿæˆçš„å¸¸ç”¨æ¨¡æ¿ä¼šå‡ºç°åœ¨è¿™é‡Œ -->
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="controls-panel">
                            <div class="form-group">
                                <label for="t2i-size">å°ºå¯¸</label>
                                <select id="t2i-size">
                                    <option value="1080x1080">1080x1080</option>
                                    <option value="1280x720">1280x720</option>
                                    <option value="1080x1440" selected>1080x1440 (3:4)</option>
                                    <option value="1080x1920">1080x1920</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="t2i-align">å¯¹é½</label>
                                <select id="t2i-align">
                                    <option value="center" selected>å±…ä¸­</option>
                                    <option value="left">å·¦å¯¹é½</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="t2i-font-size">å­—ä½“å¤§å° (<span id="font-size-value">100</span>%)</label>
                                <input type="range" id="t2i-font-size" min="50" max="200" value="100" step="10" style="width: 100%;">
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn-secondary" onclick="resetT2I()">é‡ç½®</button>
                        <button class="btn-primary" onclick="generateTextImage()">ç”Ÿæˆå›¾ç‰‡</button>
                        <button class="btn-info" id="t2i-download" onclick="downloadTextImage()" disabled>ä¸‹è½½PNG</button>
                    </div>

                    <div class="t2i-preview" style="margin-top:16px; display:flex; gap:16px; align-items:flex-start;">
                        <canvas id="t2i-canvas" width="1080" height="1080" style="width:360px;height:360px;background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.08);"></canvas>
                        <div style="color:#666;line-height:1.6;">
                            <div>é¢„è§ˆä¸ºç¼©æ”¾æ˜¾ç¤ºï¼Œä¸‹è½½ä¸ºåŸå§‹åˆ†è¾¨ç‡ã€‚</div>
                            <div>é€‚ç”¨äºå°é¢å›¾ã€åˆ†äº«å›¾ã€æµ·æŠ¥ç­‰åœºæ™¯ã€‚</div>
                        </div>
                    </div>

                    <!-- å›¾ç‰‡åº“åŒºåŸŸ -->
                    <div class="image-gallery-section" style="margin-top: 32px;">
                        <div class="gallery-header">
                            <h3>å›¾ç‰‡åº“</h3>
                            <div class="gallery-actions">
                                <button class="btn-primary" onclick="saveImageToText()" id="save-to-text-btn" style="display: none;" disabled>
                                    ğŸ“ ä¿å­˜ä¸ºæ­¤æ–‡æ¡ˆé…å›¾
                                </button>
                                <button class="btn-primary" onclick="saveCurrentImageToGallery()" id="save-to-gallery-btn" disabled>
                                    ğŸ’¾ ä¿å­˜åˆ°å›¾ç‰‡åº“
                                </button>
                                <button class="btn-secondary" onclick="clearImageGallery()" id="clear-gallery-btn">
                                    ğŸ—‘ï¸ æ¸…ç©ºå›¾ç‰‡åº“
                                </button>
                            </div>
                        </div>
                        
                        <div class="image-gallery-content">
                            <div class="gallery-empty" id="gallery-empty" style="display: block;">
                                <div class="empty-state">
                                    <div class="empty-icon">ğŸ–¼ï¸</div>
                                    <h4>å›¾ç‰‡åº“ä¸ºç©º</h4>
                                    <p>ç”Ÿæˆå›¾ç‰‡åï¼Œç‚¹å‡»"ä¿å­˜åˆ°å›¾ç‰‡åº“"æŒ‰é’®å°†å›¾ç‰‡æ·»åŠ åˆ°è¿™é‡Œ</p>
                                </div>
                            </div>
                            <div class="gallery-grid" id="gallery-grid" style="display: none;">
                                <!-- ä¿å­˜çš„å›¾ç‰‡ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å›¾ç‰‡å‚è€ƒç”Ÿæˆæ¨¡å¼ -->
                <div class="creation-form" id="image-generation-mode" style="display: none;">
                    <div class="form-row">
                        <div class="form-group full-width">
                            <label for="reference-image-upload">ä¸Šä¼ å‚è€ƒå›¾ç‰‡</label>
                            <div class="image-upload-area" id="image-upload-area">
                                <div class="upload-placeholder" id="upload-placeholder">
                                    <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                                        <circle cx="9" cy="9" r="2" stroke="currentColor" stroke-width="2"/>
                                        <path d="M21 15L16 10L5 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <h4>æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œæˆ–ç‚¹å‡»é€‰æ‹©</h4>
                                    <p>æ”¯æŒ JPGã€PNGã€GIF æ ¼å¼ï¼Œæœ€å¤§ 10MB</p>
                                    <button type="button" class="btn-secondary" onclick="triggerImageUpload()">é€‰æ‹©æ–‡ä»¶</button>
                                </div>
                                <div class="uploaded-image-preview" id="uploaded-image-preview" style="display: none;">
                                    <img id="reference-image-preview" src="" alt="å‚è€ƒå›¾ç‰‡">
                                    <div class="image-actions">
                                        <button class="btn-secondary" onclick="removeReferenceImage()">ç§»é™¤å›¾ç‰‡</button>
                                        <button class="btn-info" onclick="analyzeReferenceImage()">æ‰‹åŠ¨åˆ†æå›¾ç‰‡</button>
                                    </div>
                                </div>
                                <input type="file" id="reference-image-input" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">
                            </div>
                        </div>
                    </div>

                    <div class="form-row ai-prompt-section" style="display: none;">
                        <div class="form-group full-width">
                            <label for="ai-prompt">AIæç¤ºè¯</label>
                            
                            <!-- å¿«é€Ÿæç¤ºè¯æ¨¡æ¿ -->
                            <div class="quick-prompts-container">
                                <div class="quick-prompts-header">
                                    <span>å¿«é€Ÿæ¨¡æ¿ï¼š</span>
                                    <select id="prompt-template" onchange="applyPromptTemplate()">
                                        <option value="">é€‰æ‹©é¢„è®¾æ¨¡æ¿</option>
                                        <option value="illustration">ğŸ¨ æ’ç”»é£æ ¼</option>
                                        <option value="photography">ğŸ“· æ‘„å½±å†™å®</option>
                                        <option value="cartoon">ğŸ¦„ å¡é€šå¯çˆ±</option>
                                        <option value="cyberpunk">ğŸš€ ç§‘æŠ€æœªæ¥</option>
                                        <option value="watercolor">ğŸŒ¸ æ°´å½©è‰ºæœ¯</option>
                                        <option value="oilpainting">ğŸ–¼ï¸ æ²¹ç”»è´¨æ„Ÿ</option>
                                        <option value="minimalist">âšª æç®€é£æ ¼</option>
                                        <option value="anime">ğŸŒŸ äºŒæ¬¡å…ƒ</option>
                                    </select>
                                </div>
                            </div>
                            
                            <textarea id="ai-prompt" placeholder="æè¿°æ‚¨æƒ³è¦ç”Ÿæˆçš„å›¾ç‰‡å†…å®¹ï¼Œæˆ–é€‰æ‹©å¿«é€Ÿæ¨¡æ¿ï¼Œæˆ–ç‚¹å‡»"åˆ†æå›¾ç‰‡"è‡ªåŠ¨ç”Ÿæˆæç¤ºè¯" rows="4"></textarea>
                            <small class="help-text">ğŸ’¡ å¯ä»¥æ‰‹åŠ¨è¾“å…¥æç¤ºè¯ï¼Œé€‰æ‹©é¢„è®¾æ¨¡æ¿ï¼Œæˆ–åŸºäºä¸Šä¼ å›¾ç‰‡è‡ªåŠ¨ç”Ÿæˆ</small>
                        </div>
                    </div>

                    <!-- AIåˆ†æç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                    <div id="analysis-result-container" class="analysis-result-container" style="display: none;">
                        <div class="analysis-header">
                            <h5>ğŸ¤– AIå›¾ç‰‡åˆ†æç»“æœ</h5>
                            <button type="button" class="btn-collapse" onclick="toggleAnalysisResult()">
                                <i class="icon">â–¼</i>
                            </button>
                        </div>
                        <div id="analysis-result-content" class="analysis-content">
                            <div id="analysis-text" class="analysis-text"></div>
                            <div class="analysis-actions">
                                <button type="button" class="btn-secondary btn-small" onclick="copyAnalysisResult()">å¤åˆ¶åˆ†æç»“æœ</button>
                                <button type="button" class="btn-info btn-small" onclick="useAnalysisAsPrompt()">ä½¿ç”¨ä¸ºæç¤ºè¯</button>
                            </div>
                        </div>
                    </div>

                    <div class="form-row generation-settings">
                        <div class="form-group">
                            <label for="image-size">å›¾ç‰‡å°ºå¯¸</label>
                            <select id="image-size">
                                <option value="1024x1024">æ­£æ–¹å½¢ (1024Ã—1024)</option>
                                <option value="1080x1440" selected>3:4ç«–å± (1080Ã—1440)</option>
                                <option value="1440x1080">4:3æ¨ªå± (1440Ã—1080)</option>
                                <option value="1024x1792">ç«–å± (1024Ã—1792)</option>
                                <option value="1792x1024">æ¨ªå± (1792Ã—1024)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="guidance-scale">åˆ›ä½œå¼ºåº¦</label>
                            <div class="range-input">
                                <input type="range" id="guidance-scale" min="1" max="10" value="3" step="0.5">
                                <span class="range-value" id="guidance-scale-value">3.0</span>
                            </div>
                            <small class="help-text">æ•°å€¼è¶Šé«˜ï¼Œç”Ÿæˆç»“æœè¶Šç¬¦åˆæç¤ºè¯</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="similarity-level">ç›¸ä¼¼åº¦</label>
                            <div class="range-input">
                                <input type="range" id="similarity-level" min="0.1" max="1.0" value="0.7" step="0.1">
                                <span class="range-value" id="similarity-level-value">0.7</span>
                            </div>
                            <small class="help-text">ä¸å‚è€ƒå›¾ç‰‡çš„ç›¸ä¼¼ç¨‹åº¦</small>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" id="add-watermark" checked>
                                <span class="checkbox-text">æ·»åŠ æ°´å°</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button class="btn-secondary" onclick="resetImageGeneration()">é‡ç½®</button>
                        <button class="btn-primary" onclick="generateImageFromReference()" id="generate-from-reference-btn" disabled>æ™ºèƒ½åˆ†æå¹¶ç”Ÿæˆå›¾ç‰‡</button>
                    </div>

                    <!-- ç”Ÿæˆè¿›åº¦å’Œç»“æœ -->
                    <div class="generation-progress" id="generation-progress" style="display: none;">
                        <div class="progress-header">
                            <h4>æ­£åœ¨ç”Ÿæˆå›¾ç‰‡...</h4>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="ai-generation-progress"></div>
                        </div>
                        <div class="progress-info">
                            <span id="generation-status">å‡†å¤‡ä¸­...</span>
                        </div>
                    </div>

                    <!-- AIç”Ÿæˆç»“æœå±•ç¤º -->
                    <div class="ai-generation-results" id="ai-generation-results" style="display: none;">
                        <div class="results-header">
                            <h4>ç”Ÿæˆç»“æœ</h4>
                            <div class="results-actions">
                                <button class="btn-info" onclick="regenerateImage()">é‡æ–°ç”Ÿæˆ</button>
                                <button class="btn-primary" onclick="saveGeneratedImage()">ä¿å­˜åˆ°å›¾ç‰‡åº“</button>
                            </div>
                        </div>
                        <div class="generated-images-grid" id="generated-images-grid">
                            <!-- ç”Ÿæˆçš„å›¾ç‰‡å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- å‘å¸ƒç®¡ç†åŒºåŸŸ -->
            <div class="content-section" id="publish-management">
                <div class="publish-management-container">
                    <div class="section-header">
                        <h1>å‘å¸ƒç®¡ç†</h1>
                        <p>ä»å†…å®¹åº“é€‰æ‹©å¤šå›¾æ–‡ï¼Œç»“åˆè´¦å·/åˆ†ç»„è¿›è¡Œæ‰¹é‡å‘å¸ƒä¸æ’æœŸ</p>
                    </div>

                    <div class="publish-layout">
                        <!-- å·¦ä¾§ï¼šå†…å®¹é€‰æ‹© -->
                        <div class="panel left-panel">
                            <div class="panel-header">
                                <h3>é€‰æ‹©å†…å®¹</h3>
                                <div class="panel-actions">
                                    <input type="text" id="publish-content-search" placeholder="æœç´¢å†…å®¹..." onkeyup="filterPublishContents(this.value)">
                                </div>
                            </div>
                            <div class="panel-body" id="publish-content-list">
                                <div class="empty-tip">ä»å†…å®¹åº“åŠ è½½å†…å®¹ä¸­...</div>
                            </div>
                        </div>

                                                <!-- ä¸­é—´ï¼šè´¦å·é€‰æ‹© -->
                        <div class="panel middle-panel">
                            <div class="panel-header">
                                <h3>é€‰æ‹©è´¦å·</h3>
                                <div class="panel-actions">
                                    <select id="publish-group-filter" onchange="filterPublishAccounts()">
                                        <option value="">å…¨éƒ¨åˆ†ç»„</option>
                                    </select>
                                    <input type="text" id="publish-account-search" placeholder="æœç´¢è´¦å·åç§°ã€å¤‡æ³¨..." onkeyup="filterPublishAccounts()">
                                </div>
                            </div>
                            <div class="panel-body" id="publish-account-list">
                                <div class="empty-tip">ä»è´¦å·ç®¡ç†åŠ è½½è´¦å·ä¸­...</div>
                            </div>
                        </div>

                        <!-- å³ä¾§ï¼šå‘å¸ƒè®¾ç½® -->
                        <div class="panel right-panel">
                            <div class="panel-header">
                                <h3>å‘å¸ƒè®¾ç½®</h3>
                            </div>
                            <div class="panel-body">
                                <div class="form-group">
<label>å‘å¸ƒæ—¶é—´</label>
                                    <div class="radio-group">
                                        <label><input type="radio" name="publish-time-mode" value="now" checked onchange="toggleScheduleOptions(false)"> ç«‹å³å‘å¸ƒ</label>
                                        <label><input type="radio" name="publish-time-mode" value="schedule" onchange="toggleScheduleOptions(true)"> å®šæ—¶å‘å¸ƒ</label>
                                    </div>
                                </div>
                                <div class="form-group" id="schedule-time-group" style="display:none;">
                                    <label for="schedule-time">é€‰æ‹©æ—¶é—´</label>
                                    <input type="datetime-local" id="schedule-time">
                                </div>
                                <div class="form-group">
                                    <label for="concurrency">å¹¶å‘æ•°</label>
                                    <select id="concurrency">
                                        <option value="1" selected>1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="rate-limit">é€Ÿç‡é™åˆ¶ï¼ˆæ¯è´¦å·/åˆ†é’Ÿï¼‰</label>
                                    <input type="number" id="rate-limit" min="0" placeholder="å¯ç•™ç©º">
                                </div>

                                <div class="form-actions">
<button class="btn-secondary" onclick="clearPublishSelections()">æ¸…ç©ºé€‰æ‹©</button>
                                    <button class="btn-primary" onclick="createPublishTasks()">åŠ å…¥å‘å¸ƒé˜Ÿåˆ—</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- é˜Ÿåˆ—ä¸æ§åˆ¶ -->
                    <div class="queue-section">
                        <div class="queue-header">
                            <h3>å‘å¸ƒé˜Ÿåˆ—</h3>
                            <div class="queue-actions">
                                <button class="btn-info" onclick="startQueueProcessing()">å¼€å§‹æ‰§è¡Œ</button>
                                <button class="btn-secondary" onclick="refreshPublishQueue()">åˆ·æ–°</button>
                                <button class="btn-danger" onclick="clearPublishQueue()">æ¸…ç©ºé˜Ÿåˆ—</button>
                            </div>
                        </div>
                        <div class="queue-table-container">
                            <table class="account-table">
                                <thead>
                                    <tr>
                                        <th>ä»»åŠ¡ID</th>
                                        <th>è´¦å·</th>
                                        <th>å¹³å°</th>
                                        <th>å†…å®¹</th>
                                        <th>è®¡åˆ’æ—¶é—´</th>
                                        <th>çŠ¶æ€</th>
                                        <th>ç»“æœ</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="publish-queue-body">
                                    <tr><td colspan="8" class="empty-cell">æš‚æ— ä»»åŠ¡</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å†…å®¹åº“åŒºåŸŸ -->
            <div class="content-section" id="content-library">
                <div class="content-library">
                    <div class="library-header">
                        <h3>å†…å®¹åº“ (0)</h3>
                        <div class="library-actions">
                            <input type="text" id="search-input" placeholder="æœç´¢å†…å®¹..." onkeyup="searchLibrary(this.value)">
                            <button class="btn-secondary" onclick="clearLibrary()">æ¸…ç©ºåº“</button>
                        </div>
                    </div>
                    <div class="library-stats">
                        <span>AIç”Ÿæˆ: 0</span>
                        <span>æ‰‹åŠ¨åˆ›å»º: 0</span>
                        <span>æ€»å­—æ•°: 0</span>
                    </div>
                    <div class="library-content" id="library-content">
                        <div class="empty-library">ğŸ“ å†…å®¹åº“ä¸ºç©ºï¼Œåˆ›å»ºç¬¬ä¸€ç¯‡å†…å®¹å§ï¼</div>
                    </div>
                </div>
            </div>

            <!-- æµè§ˆå™¨æŒ‡çº¹é…ç½®åŒºåŸŸ -->
            <div class="content-section" id="fingerprint-config">
                <div class="fingerprint-config-container">
                    <div class="section-header">
                        <h1>æµè§ˆå™¨æŒ‡çº¹é…ç½®</h1>
                        <p>ç”ŸæˆçœŸå®çš„æµè§ˆå™¨æŒ‡çº¹å‚æ•°ï¼Œæå‡è´¦å·å®‰å…¨æ€§</p>
                    </div>

                    <!-- é…ç½®å‚æ•°åŒºåŸŸ -->
                    <div class="config-parameters">
                        <div class="parameter-row">
                            <div class="parameter-group">
                                <label for="device-type">è®¾å¤‡æ€§èƒ½çº§åˆ«</label>
                                <select id="device-type">
                                    <option value="high">é«˜ç«¯è®¾å¤‡</option>
                                    <option value="medium" selected>ä¸­ç«¯è®¾å¤‡</option>
                                    <option value="low">ä½ç«¯è®¾å¤‡</option>
                                </select>
                                <small>é€‰æ‹©è®¾å¤‡æ€§èƒ½çº§åˆ«å½±å“CPUã€å†…å­˜ã€GPUç­‰ç¡¬ä»¶å‚æ•°</small>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="os-type">æ“ä½œç³»ç»Ÿ</label>
                                <select id="os-type">
                                    <option value="windows" selected>Windows</option>
                                    <option value="macos">macOS</option>
                                    <option value="linux">Linux</option>
                                </select>
                                <small>é€‰æ‹©ç›®æ ‡æ“ä½œç³»ç»Ÿç±»å‹</small>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="browser-type">æµè§ˆå™¨ç±»å‹</label>
                                <select id="browser-type">
                                    <option value="auto" selected>è‡ªåŠ¨é€‰æ‹©</option>
                                    <option value="chrome">Chrome</option>
                                    <option value="firefox">Firefox</option>
                                    <option value="safari">Safari</option>
                                    <option value="edge">Edge</option>
                                </select>
                                <small>é€‰æ‹©æµè§ˆå™¨ç±»å‹æˆ–è®©ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©</small>
                            </div>
                        </div>
                        
                        <div class="parameter-row">
                            <div class="parameter-group">
                                <label for="locale">åœ°åŸŸè®¾ç½®</label>
                                <select id="locale">
                                    <option value="zh-CN" selected>ä¸­å›½å¤§é™†</option>
                                    <option value="en-US">ç¾å›½</option>
                                    <option value="en-GB">è‹±å›½</option>
                                    <option value="ja-JP">æ—¥æœ¬</option>
                                    <option value="de-DE">å¾·å›½</option>
                                    <option value="fr-FR">æ³•å›½</option>
                                </select>
                                <small>å½±å“æ—¶åŒºã€è¯­è¨€ã€åœ°ç†ä½ç½®ç­‰å‚æ•°</small>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="fingerprint-strength">æŒ‡çº¹å¼ºåº¦</label>
                                <select id="fingerprint-strength">
                                    <option value="low">ä½å¼ºåº¦</option>
                                    <option value="medium" selected>ä¸­ç­‰å¼ºåº¦</option>
                                    <option value="high">é«˜å¼ºåº¦</option>
                                </select>
                                <small>æ§åˆ¶æŒ‡çº¹å‚æ•°çš„å˜åŒ–ç¨‹åº¦</small>
                            </div>
                            
                            <div class="parameter-group">
                                <label for="export-format">å¯¼å‡ºæ ¼å¼</label>
                                <select id="export-format">
                                    <option value="json" selected>JSON</option>
                                    <option value="yaml">YAML</option>
                                    <option value="env">ç¯å¢ƒå˜é‡</option>
                                </select>
                                <small>é€‰æ‹©é…ç½®æ–‡ä»¶çš„å¯¼å‡ºæ ¼å¼</small>
                            </div>
                        </div>
                    </div>

                    <!-- æ“ä½œæŒ‰é’®åŒºåŸŸ -->
                    <div class="config-actions">
                        <button id="generate-config-btn" class="btn-primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 4L20 20M20 4L4 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                            ç”ŸæˆæŒ‡çº¹é…ç½®
                        </button>
                        
                        <button id="export-config-btn" class="btn-secondary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M7 10L12 15L17 10M12 15V3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            å¯¼å‡ºé…ç½®
                        </button>
                        
                        <button id="import-config-btn" class="btn-secondary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            å¯¼å…¥é…ç½®
                        </button>
                    </div>

                    <!-- å¼ºåº¦ä¿¡æ¯æ˜¾ç¤º -->
                    <div class="strength-info-card">
                        <div id="strength-info">
                            <div class="strength-name">ä¸­ç­‰å¼ºåº¦</div>
                            <div class="strength-description">é€‚åº¦å‚æ•°å˜åŒ–ï¼Œå¹³è¡¡æ€§èƒ½ä¸éšç§</div>
                        </div>
                    </div>

                    <!-- é…ç½®ç»“æœæ˜¾ç¤ºåŒºåŸŸ -->
                    <div class="config-results">
                        <!-- é…ç½®æ‘˜è¦ -->
                        <div class="result-card">
                            <h3>é…ç½®æ‘˜è¦</h3>
                            <div id="fingerprint-summary">
                                <div class="summary-placeholder">ç‚¹å‡»"ç”ŸæˆæŒ‡çº¹é…ç½®"å¼€å§‹ç”Ÿæˆ</div>
                            </div>
                        </div>

                        <!-- è¯¦ç»†é…ç½® -->
                        <div class="result-tabs">
                            <div class="tab-header">
                                <button class="tab-btn active" onclick="switchTab('basic')">åŸºç¡€ä¿¡æ¯</button>
                                <button class="tab-btn" onclick="switchTab('hardware')">ç¡¬ä»¶ä¿¡æ¯</button>
                                <button class="tab-btn" onclick="switchTab('locale')">åœ°åŸŸä¿¡æ¯</button>
                                <button class="tab-btn" onclick="switchTab('webgl')">WebGLä¿¡æ¯</button>
                            </div>
                            
                            <div class="tab-content">
                                <!-- åŸºç¡€ä¿¡æ¯æ ‡ç­¾ -->
                                <div class="tab-panel active" id="basic-tab">
                                    <div class="info-item">
                                        <label>User-Agent</label>
                                        <div class="info-value" id="generated-useragent">
                                            <span class="placeholder">ç­‰å¾…ç”Ÿæˆ...</span>
                                        </div>
                                    </div>
                                    
                                    <div class="info-item">
                                        <label>å±å¹•åˆ†è¾¨ç‡</label>
                                        <div class="info-value" id="generated-screen">
                                            <span class="placeholder">ç­‰å¾…ç”Ÿæˆ...</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- ç¡¬ä»¶ä¿¡æ¯æ ‡ç­¾ -->
                                <div class="tab-panel" id="hardware-tab">
                                    <div class="info-item">
                                        <label>ç¡¬ä»¶é…ç½®</label>
                                        <div class="info-value" id="generated-hardware">
                                            <span class="placeholder">ç­‰å¾…ç”Ÿæˆ...</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- åœ°åŸŸä¿¡æ¯æ ‡ç­¾ -->
                                <div class="tab-panel" id="locale-tab">
                                    <div class="info-item">
                                        <label>åœ°åŸŸè®¾ç½®</label>
                                        <div class="info-value" id="generated-locale">
                                            <span class="placeholder">ç­‰å¾…ç”Ÿæˆ...</span>
                                        </div>
                                    </div>
                                </div>

                                <!-- WebGLä¿¡æ¯æ ‡ç­¾ -->
                                <div class="tab-panel" id="webgl-tab">
                                    <div class="info-item">
                                        <label>WebGLä¿¡æ¯</label>
                                        <div class="info-value" id="generated-webgl">
                                            <span class="placeholder">ç­‰å¾…ç”Ÿæˆ...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- è´¦å·ç®¡ç†åŒºåŸŸ -->
            <div class="content-section" id="account-management">
                <div class="account-management-container">
                    <div class="section-header">
                        <h1>è´¦å·ç®¡ç†</h1>
                        <p>ç®¡ç†æ‚¨çš„å„å¹³å°è´¦å·é…ç½®</p>
                    </div>

                    <!-- æ“ä½œæ  -->
                    <div class="account-toolbar">
                        <div class="toolbar-left">
                            <button class="btn-primary create-account-btn" onclick="openCreateAccountModal()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                åˆ›å»ºçª—å£
                            </button>
                            <div class="filter-group">
                                <select id="group-filter" onchange="filterByGroup(this.value)">
                                    <option value="">å…¨éƒ¨</option>
                                    <!-- åŠ¨æ€ç”Ÿæˆåˆ†ç»„é€‰é¡¹ -->
                                </select>
                            </div>
                        </div>
                        <div class="toolbar-right">
                            <div class="search-box">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 21L15 15L21 21ZM17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <input type="text" placeholder="é«˜çº§æœç´¢" onkeyup="searchAccounts(this.value)">
                            </div>

                            <button class="btn-secondary more-actions-btn" onclick="showMoreActions()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                                    <path d="M9 9H15M9 13H15M9 17H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                                æ›´å¤šæ“ä½œ
                            </button>
                        </div>
                    </div>

                    <!-- è´¦å·åˆ—è¡¨è¡¨æ ¼ -->
                    <div class="account-table-container">
                        <table class="account-table">
                            <thead>
                                <tr>
                                    <th class="checkbox-col">
                                        <input type="checkbox" id="select-all-accounts" onchange="toggleSelectAllAccounts(this.checked)">
                                    </th>
                                    <th class="sequence-col">åºå· <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></th>
                                    <th class="group-col">åˆ†ç»„</th>
                                    <th class="window-name-col">çª—å£åç§° <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></th>
                                    <th class="platform-col">è´¦å·å¹³å°</th>
                                    <th class="note-col">å¤‡æ³¨</th>
                                    <th class="create-time-col">åˆ›å»ºæ—¶é—´ <svg class="sort-icon" width="12" height="12" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12L12 5L19 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></th>
                                    <th class="config-col">é…ç½®</th>
                                    <th class="action-col">æ“ä½œ</th>
                                    <th class="status-col">çŠ¶æ€</th>
                                    
                                </tr>
                            </thead>
                            <tbody id="account-table-body">
                                <!-- è´¦å·æ•°æ®å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                            </tbody>
                        </table>
                    </div>

                    <!-- åˆ†é¡µå™¨ -->
                    <div class="pagination-container">
                        <div class="pagination-info">
                            <span>å…± <span id="total-accounts">3</span> æ¡è®°å½•</span>
                        </div>
                        <div class="pagination">
                            <button class="page-btn" onclick="goToPage('first')" title="é¦–é¡µ">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 19L4 12L11 5M19 19L12 12L19 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button class="page-btn" onclick="goToPage('prev')" title="ä¸Šä¸€é¡µ">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15 18L9 12L15 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <span class="page-numbers">
                                <button class="page-btn active">1</button>
                            </span>
                            <button class="page-btn" onclick="goToPage('next')" title="ä¸‹ä¸€é¡µ">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                            <button class="page-btn" onclick="goToPage('last')" title="æœ«é¡µ">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13 19L20 12L13 5M5 19L12 12L5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </button>
                        </div>
                        <div class="page-size-selector">
                            <select onchange="changePageSize(this.value)">
                                <option value="10">10</option>
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                            <span>æ¡/é¡µ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- çˆ†æ¬¾æ‹†è§£åŒºåŸŸ -->
            <div class="content-section" id="text-analysis">
                <div class="text-analysis-container">
                    <div class="section-header">
                        <h1>çˆ†æ¬¾æ‹†è§£</h1>
                        <p>é€šè¿‡AIåˆ†æçˆ†æ¬¾æ–‡æ¡ˆç»“æ„ï¼Œé‡æ–°ç”Ÿæˆä¼˜è´¨å†…å®¹</p>
                    </div>

                    <!-- é€‰é¡¹å¡å¯¼èˆª -->
                    <div class="analysis-tabs">
                        <div class="tab-nav">
                            <button class="analysis-tab-btn active" onclick="switchAnalysisTab('manual')" data-tab="manual">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20H16C16.5304 20 17.0391 19.7893 17.4142 19.4142C17.7893 19.0391 18 18.5304 18 18V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M18.5 2.5C18.8978 2.10217 19.4374 1.87868 20 1.87868C20.5626 1.87868 21.1022 2.10217 21.5 2.5C21.8978 2.89782 22.1213 3.43739 22.1213 4C22.1213 4.56261 21.8978 5.10217 21.5 5.5L12 15L8 16L9 12L18.5 2.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                æ™ºèƒ½æ‹†è§£
                            </button>
                            <button class="analysis-tab-btn" onclick="switchAnalysisTab('scraped')" data-tab="scraped">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z" stroke="currentColor" stroke-width="2"/>
                                    <path d="M8 12L12 16L16 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    <path d="M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                æ™ºèƒ½æŠ“å–
                            </button>
                        </div>
                    </div>

                    <!-- é€‰é¡¹å¡å†…å®¹åŒºåŸŸ -->
                    <div class="analysis-tab-content">
                        <!-- æ‰‹åŠ¨æ‹†è§£é€‰é¡¹å¡ -->
                        <div class="analysis-tab-panel active" id="manual-tab">
                            <!-- æ–‡æ¡ˆè¾“å…¥åŒºåŸŸ -->
                    <div class="text-input-section">
                        <!-- çˆ†æ¬¾æ–‡æ¡ˆ1 -->
                        <div class="text-input-item">
                            <h3>çˆ†æ¬¾æ–‡æ¡ˆ 1</h3>
                            <div class="text-input-content">
                                <textarea id="text-input-1" placeholder="è¾“å…¥çˆ†æ¬¾æ–‡æ¡ˆå†…å®¹" rows="6"></textarea>

                            </div>
                        </div>

                        <!-- çˆ†æ¬¾æ–‡æ¡ˆ2 -->
                        <div class="text-input-item">
                            <h3>çˆ†æ¬¾æ–‡æ¡ˆ 2</h3>
                            <div class="text-input-content">
                                <textarea id="text-input-2" placeholder="è¾“å…¥çˆ†æ¬¾æ–‡æ¡ˆå†…å®¹" rows="6"></textarea>

                            </div>
                        </div>

                        <!-- çˆ†æ¬¾æ–‡æ¡ˆ3 -->
                        <div class="text-input-item">
                            <h3>çˆ†æ¬¾æ–‡æ¡ˆ 3</h3>
                            <div class="text-input-content">
                                <textarea id="text-input-3" placeholder="è¾“å…¥çˆ†æ¬¾æ–‡æ¡ˆå†…å®¹" rows="6"></textarea>

                            </div>
                        </div>

                        <!-- æ“ä½œæŒ‰é’® -->
                        <div class="text-input-actions">
                            <button class="btn-secondary" onclick="addMoreText()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 5V19M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                æ·»åŠ æ–‡æ¡ˆ
                            </button>

                            <button class="btn-primary" onclick="startTextAnalysis()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M9.663 17H4.5C3.11929 17 2 15.8807 2 14.5C2 13.1193 3.11929 12 4.5 12C4.5 8.96243 6.96243 6.5 10 6.5C13.0376 6.5 15.5 8.96243 15.5 12V13H16.5C17.8807 13 19 14.1193 19 15.5C19 16.8807 17.8807 18 16.5 18H15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                å¼€å§‹æ‹†è§£
                            </button>
                        </div>
                        </div>
                        <!-- æ‰‹åŠ¨æ‹†è§£é€‰é¡¹å¡ç»“æŸ -->
                    </div>

                    <!-- æ™ºèƒ½æŠ“å–é€‰é¡¹å¡ -->
                    <div class="analysis-tab-panel" id="scraped-tab">
                        <!-- æŠ“å–å†…å®¹å±•ç¤ºåŒºåŸŸ -->
                    <div class="scraped-content-section" id="scraped-content-section">
                        <div class="section-header">
                            <h2>ğŸ“Š å®æ—¶æŠ“å–å†…å®¹</h2>
                            <p>æŸ¥çœ‹æŠ“å–åˆ°çš„çˆ†æ¬¾å†…å®¹å’Œæ™ºèƒ½åˆ†æç»“æœ</p>
                        </div>

                        <!-- å°çº¢ä¹¦æœç´¢åŒºåŸŸ -->
                        <div class="xiaohongshu-search-section">
                            <div class="search-input-group">
                                <label for="xiaohongshu-search-input">å°çº¢ä¹¦æœç´¢å…³é”®è¯ï¼š</label>
                                <input type="text" id="xiaohongshu-search-input" placeholder="è¾“å…¥è¦åœ¨å°çº¢ä¹¦æœç´¢çš„å…³é”®è¯..." />
                            </div>
                        </div>
                        
                        <!-- å°çº¢ä¹¦æ¢ç´¢æŒ‰é’® -->
                        <div class="scraped-filters">

                            <div class="filter-actions">
                                <button class="btn-info" onclick="openFirstAccountBrowser()">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect x="3" y="4" width="18" height="12" rx="2" stroke="currentColor" stroke-width="2"/>
                                        <circle cx="8" cy="8" r="1" fill="currentColor"/>
                                        <circle cx="12" cy="8" r="1" fill="currentColor"/>
                                        <circle cx="16" cy="8" r="1" fill="currentColor"/>
                                        <path d="m9 16 2-2 4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    å¼€å§‹æŠ“å–
                                </button>

                            </div>
                        </div>
                        
                        <!-- æŠ“å–å†…å®¹å±•ç¤ºåŒºåŸŸ -->
                        <div class="scraped-content-display" id="scraped-content-display">
                            <div class="empty-state">
                                <div class="empty-icon">ğŸ“</div>
                                <h4>æš‚æ— æŠ“å–å†…å®¹</h4>
                                <p>è¯·ç‚¹å‡»"æ‰“å¼€å°çº¢ä¹¦æ¢ç´¢"æŒ‰é’®å¯åŠ¨å†…å®¹æŠ“å–ï¼Œæˆ–ç­‰å¾…è‡ªåŠ¨æŠ“å–å®Œæˆ</p>

                            </div>
                        </div>
                        
                        <!-- åˆ†é¡µæ§åˆ¶ -->
                        <div class="scraped-pagination" id="scraped-pagination" style="display: none;">
                            <button class="pagination-btn" onclick="goToScrapedPage('prev')">ä¸Šä¸€é¡µ</button>
                            <span class="pagination-info">
                                ç¬¬ <span id="current-scraped-page">1</span> é¡µï¼Œå…± <span id="total-scraped-pages">1</span> é¡µ
                            </span>
                            <button class="pagination-btn" onclick="goToScrapedPage('next')">ä¸‹ä¸€é¡µ</button>
                        </div>
                    </div>

                    <!-- AIçˆ†æ¬¾é‡ç»„åŒºåŸŸ -->
                    <div class="ai-recompose-section" id="ai-recompose-section" style="display: none;">
                        <div class="section-header">
                            <h2>AIçˆ†æ¬¾é‡ç»„</h2>
                            <p>åŸºäºæ‹†è§£ç»“æœé‡æ–°ç”Ÿæˆå†…å®¹</p>
                        </div>

                        <!-- æ‹†è§£å†…å®¹æ˜¾ç¤º -->
                                                    <div class="analysis-result">
                            <h3>æ‹†è§£å†…å®¹</h3>
                            <div class="analysis-content" id="analysis-content">
                                <div class="analysis-section">
                                    <h4>ğŸ·ï¸ æ ¸å¿ƒäº§å“è¯:</h4>
                                    <p>è¯·å…ˆè¾“å…¥çˆ†æ¬¾æ–‡æ¡ˆå†…å®¹ï¼Œç„¶åç‚¹å‡»å¼€å§‹æ‹†è§£ã€‚ç³»ç»Ÿå°†æ™ºèƒ½æå–äº§å“ç›¸å…³çš„æ ¸å¿ƒå…³é”®è¯ã€‚</p>
                                </div>

                                <div class="analysis-section">
                                    <h4>ğŸ’ æƒ…æ„Ÿè§¦å‘è¯:</h4>
                                    <p>å°†æå–èƒ½å¤Ÿå¼•èµ·è¯»è€…æƒ…æ„Ÿå…±é¸£çš„å…³é”®è¯æ±‡ï¼ŒåŒ…æ‹¬ç—›ç‚¹è¯ã€æ»¡è¶³æ„Ÿè¯æ±‡ç­‰ã€‚</p>
                                </div>

                                <div class="analysis-section">
                                    <h4>ğŸ¯ åœºæ™¯åº”ç”¨è¯:</h4>
                                    <p>åˆ†æä½¿ç”¨åœºæ™¯ç›¸å…³çš„å…³é”®è¯ï¼ŒåŒ…æ‹¬ç›®æ ‡äººç¾¤ã€æ—¶é—´åœ°ç‚¹ç­‰ç¯å¢ƒæè¿°è¯ã€‚</p>
                                </div>

                                <div class="analysis-section">
                                    <h4>âœ¨ æ•ˆæœä»·å€¼è¯:</h4>
                                    <p>æç‚¼æ•ˆæœæè¿°å’Œä»·å€¼ä½“ç°ç›¸å…³çš„å…³é”®è¯ï¼Œå±•ç°äº§å“å¸¦æ¥çš„å˜åŒ–å’Œå¥½å¤„ã€‚</p>
                                </div>

                                <div class="analysis-section">
                                    <h4>ğŸ¨ è¡¨è¾¾æŠ€å·§è¯:</h4>
                                    <p>è¯†åˆ«è¡¨è¾¾æŠ€å·§ç›¸å…³çš„å…³é”®è¯ï¼ŒåŒ…æ‹¬å¼€å¤´å¼•å¯¼ã€è½¬æŠ˜é€’è¿›ã€ç»“å°¾è¡ŒåŠ¨ç­‰è¯æ±‡ã€‚</p>
                                </div>
                            </div>
                        </div>

                        <!-- ç”Ÿæˆè®¾ç½® -->
                        <div class="generation-settings">
                            <div class="setting-row">
                                <div class="setting-group">
                                    <label for="generation-count">ç”Ÿæˆæ•°é‡</label>
                                    <select id="generation-count">
                                        <option value="1">1ç¯‡</option>
                                        <option value="3" selected>3ç¯‡</option>
                                        <option value="5">5ç¯‡</option>
                                        <option value="10">10ç¯‡</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- é‡ç»„ç”ŸæˆæŒ‰é’® -->
                        <div class="recompose-actions">
                            <button class="btn-primary recompose-btn" onclick="startRecompose()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M13 10V3L4 14H11L11 21L20 10H13Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                é‡ç»„ç”Ÿæˆ
                            </button>
                        </div>

                        <!-- é‡ç»„ç»“æœæ˜¾ç¤º -->
                        <div class="recompose-results" id="recompose-results" style="display: none;">
                            <div class="results-header">
                                <h3>é‡ç»„ç»“æœ</h3>
                                <div class="results-controls">
                                    <div class="selection-controls">
                                        <input type="checkbox" id="recompose-select-all" onchange="toggleRecomposeSelectAll(this.checked)">
                                        <label for="recompose-select-all">å…¨é€‰</label>
                                    </div>
                                    <div class="action-buttons">
                                        <button class="btn-primary" onclick="saveRecomposeSelected()" id="save-recompose-btn" disabled>ä¿å­˜é€‰ä¸­åˆ°å†…å®¹åº“</button>
                                        <button class="btn-secondary" onclick="clearRecomposeResults()">æ¸…ç©ºç»“æœ</button>
                                    </div>
                                </div>
                            </div>
                            <div id="recompose-results-container" class="results-container">
                                <!-- é‡ç»„ç”Ÿæˆçš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                            </div>
                        </div>
                    </div>
                    </div>
                    <!-- æ™ºèƒ½æŠ“å–é€‰é¡¹å¡ç»“æŸ -->
                    
                    </div>
                    <!-- é€‰é¡¹å¡å†…å®¹åŒºåŸŸç»“æŸ -->
                </div>
            </div>

            <!-- é€šçŸ¥ç®¡ç†åŒºåŸŸ -->
            <div class="content-section" id="notification-management">
                <div class="notification-management-container">
                    <div class="section-header">
                        <h1>é€šçŸ¥ç®¡ç†</h1>
                        <p>è·å–è´¦å·çš„ç‚¹èµã€è¯„è®ºã€æ”¶è—æ•°æ®</p>
                    </div>

                    <!-- è´¦å·é€‰æ‹©åŒºåŸŸ -->
                    <div class="account-selection-section">
                        <div class="selection-header">
                            <h3>é€‰æ‹©è´¦å·</h3>
                            <div class="selection-controls">
                                <button class="btn-secondary" onclick="selectAllNotificationAccounts()">å…¨é€‰</button>
                                <button class="btn-secondary" onclick="clearNotificationAccountSelection()">æ¸…ç©º</button>
                                <button class="btn-primary" onclick="startNotificationDataFetch()">å¼€å§‹è·å–</button>
                            </div>
                        </div>
                        
                        <div class="account-filter-bar">
                            <div class="filter-group">
                                <select id="notification-group-filter" onchange="filterNotificationAccounts()">
                                    <option value="">å…¨éƒ¨åˆ†ç»„</option>
                                    <!-- åŠ¨æ€ç”Ÿæˆåˆ†ç»„é€‰é¡¹ -->
                                </select>
                                <select id="notification-platform-filter" onchange="filterNotificationAccounts()">
                                    <option value="">å…¨éƒ¨å¹³å°</option>
                                    <option value="xiaohongshu.com">å°çº¢ä¹¦</option>
                                    <option value="douyin.com">æŠ–éŸ³</option>
                                    <option value="weibo.com">å¾®åš</option>
                                </select>
                            </div>
                            <div class="search-box">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M21 21L15 15L21 21ZM17 10C17 13.866 13.866 17 10 17C3 13.866 3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <input type="text" placeholder="æœç´¢è´¦å·..." onkeyup="searchNotificationAccounts(this.value)">
                            </div>
                        </div>
                        
                        <div class="account-selection-grid" id="notification-account-grid">
                            <!-- è´¦å·é€‰æ‹©å¡ç‰‡å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <!-- æ•°æ®è·å–è®¾ç½® -->
                    <div class="fetch-settings-section">
                        <div class="settings-header">
                            <h3>è·å–è®¾ç½®</h3>
                        </div>
                        <div class="settings-content">
                                                <div class="setting-row">
                        <div class="setting-group">
                            <label for="fetch-type">è·å–ç±»å‹</label>
                            <div class="checkbox-group">
                                <label class="checkbox-item">
                                    <input type="checkbox" id="fetch-comment-details" checked>
                                    <span class="checkbox-text">è¯„è®ºè¯¦ç»†æ•°æ®</span>
                                    <small>é‡‡é›†è¯„è®ºå†…å®¹ã€ç”¨æˆ·ä¿¡æ¯ç­‰è¯¦ç»†æ•°æ®</small>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" id="fetch-likes-reddot" checked>
                                    <span class="checkbox-text">èµå’Œæ”¶è—çº¢ç‚¹æ•°å­—</span>
                                    <small>ä»…è·å–èµå’Œæ”¶è—é€‰é¡¹å¡çš„çº¢ç‚¹æ•°å­—</small>
                                </label>
                                <label class="checkbox-item">
                                    <input type="checkbox" id="fetch-follow-reddot" checked>
                                    <span class="checkbox-text">æ–°å¢å…³æ³¨çº¢ç‚¹æ•°å­—</span>
                                    <small>ä»…è·å–æ–°å¢å…³æ³¨é€‰é¡¹å¡çš„çº¢ç‚¹æ•°å­—</small>
                                </label>
                            </div>
                        </div>
                        
                        <!-- è¿è¡Œæ¨¡å¼ï¼šç°åœ¨ç”±å…¨å±€æ— å¤´æ¨¡å¼å¼€å…³æ§åˆ¶ -->
                                
                                <div class="setting-group">
                                    <label for="fetch-time-range">æ—¶é—´èŒƒå›´</label>
                                    <select id="fetch-time-range" onchange="toggleCustomTimeRange()">
                                        <option value="today">ä»Šå¤©</option>
                                        <option value="yesterday">æ˜¨å¤©</option>
                                        <option value="week">æœ€è¿‘7å¤©</option>
                                        <option value="month" selected>æœ€è¿‘30å¤©</option>
                                        <option value="custom">è‡ªå®šä¹‰</option>
                                    </select>
                                </div>
                                
                                <div class="setting-group" id="custom-time-range" style="display: none;">
                                    <label>è‡ªå®šä¹‰æ—¶é—´</label>
                                    <div class="date-range-inputs">
                                        <input type="date" id="start-date" placeholder="å¼€å§‹æ—¥æœŸ">
                                        <span>è‡³</span>
                                        <input type="date" id="end-date" placeholder="ç»“æŸæ—¥æœŸ">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="setting-row">
                                <div class="setting-group">
                                    <label for="fetch-interval">è·å–é—´éš”ï¼ˆç§’ï¼‰</label>
                                    <input type="number" id="fetch-interval" min="1" max="60" value="5">
                                    <small>é¿å…è¯·æ±‚è¿‡äºé¢‘ç¹</small>
                                </div>
                                
                                <div class="setting-group">
                                    <label for="max-retries">æœ€å¤§é‡è¯•æ¬¡æ•°</label>
                                    <input type="number" id="max-retries" min="1" max="10" value="3">
                                    <small>è·å–å¤±è´¥æ—¶çš„é‡è¯•æ¬¡æ•°</small>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- è·å–è¿›åº¦å’ŒçŠ¶æ€ -->
                    <div class="fetch-progress-section" id="fetch-progress-section" style="display: none;">
                        <div class="progress-header">
                            <h3>è·å–è¿›åº¦</h3>
                            <div class="progress-controls">
                                <button class="btn-secondary" onclick="pauseNotificationDataFetch()">æš‚åœ</button>
                                <button class="btn-danger" onclick="stopNotificationDataFetch()">åœæ­¢</button>
                            </div>
                        </div>
                        
                        <div class="progress-content">
                            <div class="progress-bar">
                                <div class="progress-fill" id="fetch-progress-fill"></div>
                            </div>
                            <div class="progress-info">
                                <span id="progress-text">å‡†å¤‡ä¸­...</span>
                                <span id="progress-count">0 / 0</span>
                            </div>
                        </div>
                        
                        <div class="fetch-status">
                            <div class="status-item">
                                <span class="status-label">æˆåŠŸ:</span>
                                <span class="status-value success" id="success-count">0</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">å¤±è´¥:</span>
                                <span class="status-value error" id="error-count">0</span>
                            </div>
                            <div class="status-item">
                                <span class="status-label">è·³è¿‡:</span>
                                <span class="status-value warning" id="skip-count">0</span>
                            </div>
                        </div>

                         <!-- æµç¨‹æ—¥å¿— -->
                         <div class="fetch-log-section">
                             <div class="fetch-log-header">
                                 <h4>æµç¨‹æ—¥å¿—</h4>
                                 <div class="log-controls">
                                     <button class="btn-secondary" onclick="clearFetchLog()">æ¸…ç©º</button>
                                 </div>
                             </div>
                             <div class="fetch-log-list" id="fetch-log">
                                 <!-- å®æ—¶æµç¨‹æ—¥å¿—æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                             </div>
                         </div>
                    </div>

                    <!-- æ•°æ®ç»“æœå±•ç¤º -->
                    <div class="data-results-section" id="data-results-section" style="display: none;">
                        <div class="results-header">
                            <h3>è·å–ç»“æœ</h3>
                            <div class="results-controls">
                                <button class="btn-secondary" onclick="exportNotificationData()">å¯¼å‡ºæ•°æ®</button>
                                <button class="btn-secondary" onclick="clearNotificationResults()">æ¸…ç©ºç»“æœ</button>
                            </div>
                        </div>
                        
                        <div class="results-tabs">
                            <div class="tab-header">
                                <button class="tab-btn active" onclick="switchNotificationDataTab('summary')">æ•°æ®æ±‡æ€»</button>
                                <button class="tab-btn" onclick="switchNotificationDataTab('details')">è¯¦ç»†æ•°æ®</button>
                                 <button class="tab-btn" onclick="switchNotificationDataTab('comments')">è¯„è®ºæ˜ç»†</button>
                                <button class="tab-btn" onclick="switchNotificationDataTab('errors')">é”™è¯¯æ—¥å¿—</button>
                            </div>
                            
                            <div class="tab-content">
                                <!-- æ•°æ®æ±‡æ€»æ ‡ç­¾ -->
                                <div class="tab-panel active" id="summary-tab">
                                    <div class="summary-cards">
                                        <div class="summary-card">
                                            <div class="card-header">
                                                <h4>èµå’Œæ”¶è—</h4>
                                                <span class="card-count" id="likes-count">0</span>
                                            </div>
                                            <div class="card-content">
                                                <div class="data-item">
                                                    <span class="label">æ€»èµå’Œæ”¶è—:</span>
                                                    <span class="value" id="total-likes">0</span>
                                                </div>
                                                <div class="data-item">
                                                    <span class="label">å¹³å‡èµå’Œæ”¶è—:</span>
                                                    <span class="value" id="avg-likes">0</span>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="summary-card">
                                            <div class="card-header">
                                                <h4>è¯„è®ºæ•°æ®</h4>
                                                <span class="card-count" id="comments-count">0</span>
                                            </div>
                                            <div class="card-content">
                                                <div class="data-item">
                                                    <span class="label">æ€»è¯„è®ºæ•°:</span>
                                                    <span class="value" id="total-comments">0</span>
                                                </div>
                                                <div class="data-item">
                                                    <span class="label">å¹³å‡è¯„è®º:</span>
                                                    <span class="value" id="avg-comments">0</span>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        
                                        
                                        <div class="summary-card">
                                            <div class="card-header">
                                                <h4>æ–°å¢å…³æ³¨</h4>
                                                <span class="card-count" id="follows-count">0</span>
                                            </div>
                                            <div class="card-content">
                                                <div class="data-item">
                                                    <span class="label">æ€»æ–°å¢å…³æ³¨:</span>
                                                    <span class="value" id="total-follows">0</span>
                                                </div>
                                                <div class="data-item">
                                                    <span class="label">å¹³å‡æ–°å¢å…³æ³¨:</span>
                                                    <span class="value" id="avg-follows">0</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- è¯¦ç»†æ•°æ®æ ‡ç­¾ -->
                                <div class="tab-panel" id="details-tab">
                                    <div class="details-table-container">
                                        <table class="details-table">
                                            <thead>
                                                <tr>
                                                    <th>è´¦å·</th>
                                                    <th>å¹³å°</th>
                                                    <th>èµå’Œæ”¶è—</th>
                                                    <th>è¯„è®ºæ•°</th>
                                                    <th>æ–°å¢å…³æ³¨</th>
                                                    <th>è·å–æ—¶é—´</th>
                                                    <th>çŠ¶æ€</th>
                                                </tr>
                                            </thead>
                                            <tbody id="details-table-body">
                                                <!-- è¯¦ç»†æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                                 <!-- è¯„è®ºæ˜ç»†æ ‡ç­¾ -->
                                 <div class="tab-panel" id="comments-tab">
                                     <div class="comments-list" id="comments-list" data-has-toolbar="1">
                                         <!-- è¯„è®ºæ˜ç»†å°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
                                     </div>
                                 </div>

                                <!-- é”™è¯¯æ—¥å¿—æ ‡ç­¾ -->
                                <div class="tab-panel" id="errors-tab">
                                    <div class="error-logs" id="error-logs">
                                        <!-- é”™è¯¯æ—¥å¿—å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç³»ç»Ÿè®¾ç½®åŒºåŸŸ -->
            <div class="content-section" id="system-settings">
                <div class="system-settings-container">
                    <div class="section-header">
                        <h1>ç³»ç»Ÿè®¾ç½®</h1>
                        <p>é…ç½®åº”ç”¨çš„åŸºç¡€è®¾ç½®å’Œæµè§ˆå™¨å‚æ•°</p>
                    </div>

                    <!-- æµè§ˆå™¨è®¾ç½® -->
                    <div class="settings-section">
                        <h3>æµè§ˆå™¨è®¾ç½®</h3>
                        <div class="setting-item">
                            <label for="chrome-path">Chromeæµè§ˆå™¨è·¯å¾„</label>
                            <div class="path-input-group">
                                <input type="text" id="chrome-path" readonly placeholder="ç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹çš„Chromeè·¯å¾„">
                                <button type="button" class="btn-secondary" onclick="selectChromePath()">é€‰æ‹©è·¯å¾„</button>
                                <button type="button" class="btn-info" onclick="detectChromePath()">è‡ªåŠ¨æ£€æµ‹</button>
                            </div>
                            <small class="help-text">é€‰æ‹©Chromeæˆ–Edgeæµè§ˆå™¨çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„</small>
                        </div>

                        <div class="setting-item">
                            <label>æµè§ˆå™¨çŠ¶æ€</label>
                            <div class="browser-status">
                                <span id="browser-status-text" class="status-badge">æ£€æµ‹ä¸­...</span>
                                <span id="browser-version" class="version-text"></span>
                            </div>
                        </div>
                    </div>

                    <!-- æ€§èƒ½è®¾ç½® -->
                    <div class="settings-section">
                        <h3>æ€§èƒ½è®¾ç½®</h3>
                        <div class="setting-item">
                            <label for="max-browsers">æœ€å¤§å¹¶å‘æµè§ˆå™¨æ•°é‡</label>
                            <input type="number" id="max-browsers" min="1" max="50" value="10">
                            <small class="help-text">åŒæ—¶è¿è¡Œçš„æµè§ˆå™¨å®ä¾‹æ•°é‡é™åˆ¶</small>
                        </div>

                        <div class="setting-item">
                            <label for="status-refresh-interval">çŠ¶æ€åˆ·æ–°é—´éš”ï¼ˆç§’ï¼‰</label>
                            <input type="number" id="status-refresh-interval" min="5" max="300" value="30">
                            <small class="help-text">è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨è¿è¡ŒçŠ¶æ€çš„æ—¶é—´é—´éš”</small>
                        </div>

                        <!-- æ— å¤´æ¨¡å¼è®¾ç½® -->
                        <div class="setting-item">
                            <div class="headless-mode-section">
                                <div class="headless-mode-toggle">
                                    <label class="toggle-label" for="headless-mode-checkbox">
                                        <input type="checkbox" id="headless-mode-checkbox" class="toggle-checkbox" onchange="toggleHeadlessMode(this)">
                                        <div class="toggle-slider"></div>
                                        <span class="toggle-text">æ— å¤´æ¨¡å¼</span>
                                    </label>
                                    <div class="headless-mode-description">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                            <path d="M12 6V12L16 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                        <span>å¯ç”¨åæµè§ˆå™¨å°†åœ¨åå°è¿è¡Œï¼Œä¸æ˜¾ç¤ºç•Œé¢ï¼Œæé«˜æŠ“å–æ•ˆç‡</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- æŒ‡çº¹é…ç½® -->
                    <div class="settings-section" style="display: none;">
                        <h3>æµè§ˆå™¨æŒ‡çº¹é…ç½®</h3>
                        <div class="setting-item">
                            <label>æŒ‡çº¹é…ç½®ç®¡ç†</label>
                            <div class="action-buttons-group">
                                <button type="button" class="btn-primary" onclick="showFingerprintConfig()">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M19.4 15C19.2669 15.3016 19.2272 15.6362 19.286 15.9606C19.3448 16.285 19.4995 16.5843 19.73 16.82L19.79 16.88C19.976 17.0657 20.1235 17.2863 20.2241 17.5291C20.3248 17.7719 20.3766 18.0322 20.3766 18.295C20.3766 18.5578 20.3248 18.8181 20.2241 19.0609C20.1235 19.3037 19.976 19.5243 19.79 19.71C19.6043 19.896 19.3837 20.0435 19.1409 20.1441C18.8981 20.2448 18.6378 20.2966 18.375 20.2966C18.1122 20.2966 17.8519 20.2448 17.6091 20.1441C17.3663 20.0435 17.1457 19.896 16.96 19.71L16.9 19.65C16.6643 19.4195 16.365 19.2648 16.0406 19.206C15.7162 19.1472 15.3816 19.1869 15.08 19.32C14.7842 19.4468 14.532 19.6572 14.3543 19.9255C14.1766 20.1938 14.0813 20.5082 14.08 20.83V21C14.08 21.5304 13.8693 22.0391 13.4942 22.4142C13.1191 22.7893 12.6104 23 12.08 23C11.5496 23 11.0409 22.7893 10.6658 22.4142C10.2907 22.0391 10.08 21.5304 10.08 21V20.91C10.0723 20.579 9.96512 20.2573 9.77251 19.9887C9.5799 19.7201 9.31074 19.5176 9 19.41C8.69838 19.2769 8.36381 19.2372 8.03941 19.296C7.71502 19.3548 7.41568 19.5095 7.18 19.74L7.12 19.8C6.93425 19.986 6.71368 20.1335 6.47088 20.2341C6.22808 20.3348 5.96783 20.3866 5.705 20.3866C5.44217 20.3866 5.18192 20.3348 4.93912 20.2341C4.69632 20.1335 4.47575 19.986 4.29 19.8C4.10405 19.6143 3.95653 19.3937 3.85588 19.1509C3.75523 18.9081 3.70343 18.6478 3.70343 18.385C3.70343 18.1222 3.75523 17.8619 3.85588 17.6191C3.95653 17.3763 4.10405 17.1557 4.29 16.97L4.35 16.91C4.58054 16.6743 4.73519 16.375 4.794 16.0506C4.85282 15.7262 4.81312 15.3916 4.68 15.09C4.55324 14.7942 4.34276 14.542 4.07447 14.3643C3.80618 14.1866 3.49179 14.0913 3.17 14.09H3C2.46957 14.09 1.96086 13.8793 1.58579 13.5042C1.21071 13.1291 1 12.6204 1 12.09C1 11.5596 1.21071 11.0509 1.58579 10.6758C1.96086 10.3007 2.46957 10.09 3 10.09H3.09C3.42099 10.0823 3.742 9.97512 4.01062 9.78251C4.27925 9.5899 4.48167 9.32074 4.59 9.01C4.72312 8.70838 4.76282 8.37381 4.704 8.04941C4.64519 7.72502 4.49054 7.42568 4.26 7.19L4.2 7.13C4.01405 6.94425 3.86653 6.72368 3.76588 6.48088C3.66523 6.23808 3.61343 5.97783 3.61343 5.715C3.61343 5.45217 3.66523 5.19192 3.76588 4.94912C3.86653 4.70632 4.01405 4.48575 4.2 4.3C4.38575 4.11405 4.60632 3.96653 4.84912 3.86588C5.09192 3.76523 5.35217 3.71343 5.615 3.71343C5.87783 3.71343 6.13808 3.76523 6.38088 3.86588C6.62368 3.96653 6.84425 4.11405 7.03 4.3L7.09 4.36C7.32568 4.59054 7.62502 4.74519 7.94941 4.804C8.27381 4.86282 8.60838 4.82312 8.91 4.69H9C9.29577 4.56324 9.54802 4.35276 9.72569 4.08447C9.90337 3.81618 9.99872 3.50179 10 3.18V3C10 2.46957 10.2107 1.96086 10.5858 1.58579C10.9609 1.21071 11.4696 1 12 1C12.5304 1 13.0391 1.21071 13.4142 1.58579C13.7893 1.96086 14 2.46957 14 3V3.09C14.0013 3.41179 14.0966 3.72618 14.2743 3.99447C14.452 4.26276 14.7042 4.47324 15 4.6C15.3016 4.73312 15.6362 4.77282 15.9606 4.714C16.285 4.65519 16.5843 4.50054 16.82 4.27L16.88 4.21C17.0657 4.02405 17.2863 3.87653 17.5291 3.77588C17.7719 3.67523 18.0322 3.62343 18.295 3.62343C18.5578 3.62343 18.8181 3.67523 19.0609 3.77588C19.3037 3.87653 19.5243 4.02405 19.71 4.21C19.896 4.39575 20.0435 4.61632 20.1441 4.85912C20.2448 5.10192 20.2966 5.36217 20.2966 5.625C20.2966 5.88783 20.2448 6.14808 20.1441 6.39088C20.0435 6.63368 19.896 6.85425 19.71 7.04L19.65 7.1C19.4195 7.33568 19.2648 7.63502 19.206 7.95941C19.1472 8.28381 19.1869 8.61838 19.32 8.92V9C19.4468 9.29577 19.6572 9.54802 19.9255 9.72569C20.1938 9.90337 20.5082 9.99872 20.83 10H21C21.5304 10 22.0391 10.2107 22.4142 10.5858C22.7893 10.9609 23 11.4696 23 12C23 12.5304 22.7893 13.0391 22.4142 13.4142C22.0391 13.7893 21.5304 14 21 14H20.91C20.5882 14.0013 20.2738 14.0966 20.0055 14.2743C19.7372 14.452 19.5268 14.7042 19.4 15V15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    é…ç½®æµè§ˆå™¨æŒ‡çº¹
                                </button>
                            </div>
                            <small class="help-text">ç”ŸæˆçœŸå®çš„æµè§ˆå™¨æŒ‡çº¹å‚æ•°ï¼Œæå‡è´¦å·å®‰å…¨æ€§å’Œéšç§ä¿æŠ¤</small>
                        </div>
                    </div>

                    <!-- è®¸å¯è¯ç®¡ç† -->
                    <div class="settings-section">
                        <h3>è®¸å¯è¯ç®¡ç†</h3>
                        <div class="setting-item">
                            <label>å½“å‰è®¸å¯è¯çŠ¶æ€</label>
                            <div class="license-status-display">
                                <div id="license-info-display" class="license-info">
                                    <span class="status-badge" id="license-status-badge">æ£€æŸ¥ä¸­...</span>
                                    <span class="license-details" id="license-details-text">æ­£åœ¨è·å–è®¸å¯è¯ä¿¡æ¯...</span>
                                </div>
                                <div class="action-buttons-group">
                                    <button type="button" class="btn-info" onclick="viewLicenseDetails()">æŸ¥çœ‹è¯¦æƒ…</button>
                                    <button type="button" class="btn-warning" onclick="confirmRemoveLicense()">æ³¨é”€è®¸å¯è¯</button>
                                    <button type="button" class="btn-secondary" onclick="refreshLicenseStatus()">åˆ·æ–°çŠ¶æ€</button>
                                </div>
                            </div>
                            <small class="help-text">æ³¨é”€è®¸å¯è¯åéœ€è¦é‡æ–°æ¿€æ´»æ‰èƒ½ä½¿ç”¨è½¯ä»¶åŠŸèƒ½</small>
                        </div>
                    </div>

                    <!-- æ•°æ®ç®¡ç† -->
                    <div class="settings-section">
                        <h3>æ•°æ®ç®¡ç†</h3>
                        <div class="setting-item">
                            <label>ç”¨æˆ·æ•°æ®æ¸…ç†</label>
                            <div class="action-buttons-group">
                                <button type="button" class="btn-warning" onclick="cleanupAllUserData()">æ¸…ç†æ‰€æœ‰ç”¨æˆ·æ•°æ®</button>
                                <button type="button" class="btn-danger" onclick="resetAllSettings()">é‡ç½®æ‰€æœ‰è®¾ç½®</button>
                            </div>
                            <small class="help-text">è°¨æ…æ“ä½œï¼šæ¸…ç†ç”¨æˆ·æ•°æ®å°†åˆ é™¤æ‰€æœ‰æµè§ˆå™¨é…ç½®æ–‡ä»¶</small>
                        </div>
                    </div>

                    <!-- ä¿å­˜æŒ‰é’® -->
                    <div class="settings-actions">
                        <button type="button" class="btn-primary" onclick="saveSystemSettings()">ä¿å­˜è®¾ç½®</button>
                        <button type="button" class="btn-secondary" onclick="resetSystemSettings()">é‡ç½®é»˜è®¤</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    
    <!-- å†…å®¹ç¼–è¾‘æ¨¡æ€æ¡† -->
    <div id="content-edit-modal" class="modal" onclick="closeEditModal(event)">
        <div class="modal-content large" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>ç¼–è¾‘å†…å®¹</h3>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="saveEditedContent()">ä¿å­˜</button>
                    <button class="btn-secondary" onclick="closeEditModal()">å–æ¶ˆ</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="edit-form">
                    <div class="form-group">
                        <label for="edit-title">æ ‡é¢˜</label>
                        <input type="text" id="edit-title" placeholder="è¾“å…¥å†…å®¹æ ‡é¢˜...">
                    </div>
                    <div class="form-group">
                        <label for="edit-tags">æ ‡ç­¾</label>
                        <input type="text" id="edit-tags" placeholder="è¾“å…¥æ ‡ç­¾ï¼Œç”¨é€—å·åˆ†éš”...">
                    </div>
                    <div class="form-group">
                        <label>å›¾ç‰‡ç®¡ç†</label>
                        <div class="edit-image-section">
                            <div class="edit-image-buttons">
                                <div class="edit-upload-area" onclick="document.getElementById('edit-file-input').click()">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M21 15V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <p>ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡æˆ–æ‹–æ‹½åˆ°æ­¤å¤„</p>
                                    <p class="upload-hint">æ”¯æŒJPGã€PNGæ ¼å¼ï¼Œæœ€å¤§10MB</p>
                                </div>
                                <button type="button" class="gallery-select-btn" onclick="openGallerySelector()">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M5 7H19M5 12H15M5 17H12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                        <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2" fill="none"/>
                                    </svg>
                                    ä»å›¾ç‰‡åº“é€‰æ‹©
                                </button>
                            </div>
                            <input type="file" id="edit-file-input" style="display: none" multiple accept="image/*" onchange="handleEditFileUpload(this)">
                            <div id="edit-image-preview" class="edit-image-preview"></div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="edit-content">å†…å®¹</label>
                        <textarea id="edit-content" rows="12" placeholder="è¾“å…¥å†…å®¹æ­£æ–‡..."></textarea>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- åˆ›å»ºè´¦å·æ¨¡æ€æ¡† -->
    <div id="create-account-modal" class="modal" onclick="closeCreateAccountModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <h3>åˆ›å»ºæ–°è´¦å·</h3>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="saveNewAccount()">åˆ›å»º</button>
                    <button class="btn-secondary" onclick="closeCreateAccountModal()">å–æ¶ˆ</button>
                </div>
            </div>
            <div class="modal-body">
                <div class="account-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="account-group">åˆ†ç»„</label>
                            <div class="group-selector">
                                <select id="account-group">
                                    <!-- åŠ¨æ€ç”Ÿæˆåˆ†ç»„é€‰é¡¹ -->
                                </select>
                                <button type="button" class="btn-manage-groups" onclick="showGroupManager()" title="ç®¡ç†åˆ†ç»„">ç®¡ç†</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="window-name">çª—å£åç§°</label>
                            <input type="text" id="window-name" placeholder="è¾“å…¥çª—å£åç§°">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="account-platform">è´¦å·å¹³å°</label>
                            <div class="platform-selector">
                                <select id="account-platform" onchange="handlePlatformChange('account')">
                                    <option value="xiaohongshu.com">xiaohongshu.com</option>
                                    <option value="douyin.com">douyin.com</option>
                                    <option value="weibo.com">weibo.com</option>
                                    <option value="custom">+ è‡ªå®šä¹‰å¹³å°</option>
                                </select>
                                <div id="account-custom-platform" class="custom-platform-input" style="display: none;">
                                    <input type="text" id="account-custom-url" placeholder="è¾“å…¥è‡ªå®šä¹‰å¹³å°ç½‘å€ï¼Œå¦‚ï¼šexample.com" onblur="addCustomPlatform('account')" onkeypress="handleCustomPlatformKeypress(event, 'account')">
                                    <button type="button" class="btn-icon" onclick="cancelCustomPlatform('account')" title="å–æ¶ˆ">Ã—</button>
                                </div>
                                <button type="button" class="btn-manage-platforms" onclick="showPlatformManager()" title="ç®¡ç†è‡ªå®šä¹‰å¹³å°">ç®¡ç†</button>
                            </div>
                        </div>

                        <!-- ä»£ç†é…ç½®åŒºåŸŸ -->
                        <div class="form-group proxy-config-section">
                            <label>
                                <input type="checkbox" id="account-proxy-enabled" onchange="toggleProxyConfig('account')"> 
                                ä½¿ç”¨ä»£ç†
                            </label>
                            <div id="account-proxy-config" class="proxy-config-panel" style="display: none;">
                                <div class="proxy-config-row">
                                    <div class="proxy-config-item">
                                        <label for="account-proxy-type">ä»£ç†ç±»å‹</label>
                                        <select id="account-proxy-type">
                                            <option value="http">HTTP</option>
                                            <option value="socks4">SOCKS4</option>
                                            <option value="socks5">SOCKS5</option>
                                        </select>
                                    </div>
                                    <div class="proxy-config-item">
                                        <label for="account-proxy-host">ä»£ç†åœ°å€</label>
                                        <input type="text" id="account-proxy-host" placeholder="127.0.0.1">
                                    </div>
                                    <div class="proxy-config-item">
                                        <label for="account-proxy-port">ç«¯å£</label>
                                        <input type="number" id="account-proxy-port" placeholder="8080" min="1" max="65535">
                                    </div>
                                </div>
                                <div class="proxy-config-row">
                                    <div class="proxy-config-item">
                                        <label for="account-proxy-username">ç”¨æˆ·å (å¯é€‰)</label>
                                        <input type="text" id="account-proxy-username" placeholder="ç”¨æˆ·å">
                                    </div>
                                    <div class="proxy-config-item">
                                        <label for="account-proxy-password">å¯†ç  (å¯é€‰)</label>
                                        <input type="password" id="account-proxy-password" placeholder="å¯†ç ">
                                    </div>
                                    <div class="proxy-config-item">
                                        <button type="button" class="btn-test-proxy" onclick="testProxyConnection('account')">
                                            ğŸ”— æµ‹è¯•è¿æ¥
                                        </button>
                                    </div>
                                </div>
                                <div class="proxy-config-note">
                                    <small>ğŸ’¡ ä½¿ç”¨ä»£ç†å¯ä»¥è®©æ¯ä¸ªè´¦å·æ‹¥æœ‰ä¸åŒçš„IPåœ°å€ï¼Œæå‡éšç§ä¿æŠ¤</small>
                                </div>
                            </div>
                        </div>


                            <!-- ä¸€é”®éšæœºç”ŸæˆæŒ‡çº¹é…ç½® -->
                            <div class="proxy-option">
                                <button type="button" class="btn-generate-config" onclick="generateRandomConfig('account')">
                                    ä¸€é”®éšæœºç”ŸæˆæŒ‡çº¹é…ç½®
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="account-note">å¤‡æ³¨</label>
                        <textarea id="account-note" rows="3" placeholder="è¾“å…¥å¤‡æ³¨ä¿¡æ¯"></textarea>
                    </div>
                </div>
            </div>
        </div>
          </div>
      
      <!-- é…ç½®çª—å£æ¨¡æ€æ¡† -->
      <div id="config-window-modal" class="modal" onclick="closeConfigWindowModal(event)">
          <div class="modal-content config-modal" onclick="event.stopPropagation()">
              <div class="modal-header">
                  <h3>çª—å£é…ç½®</h3>
                  <div class="modal-actions">
                      <button class="btn-primary" onclick="saveWindowConfig()">ä¿å­˜</button>
                      <button class="btn-secondary" onclick="closeConfigWindowModal()">å–æ¶ˆ</button>
                  </div>
              </div>
              <div class="modal-body">
                  <div class="form-group">
                      <label for="config-window-name">çª—å£åç§°</label>
                      <input type="text" id="config-window-name" placeholder="è¾“å…¥çª—å£åç§°">
                  </div>
                  <div class="form-group">
                      <label for="config-group">åˆ†ç»„</label>
                      <div class="group-selector">
                          <select id="config-group">
                              <option value="">é€‰æ‹©åˆ†ç»„</option>
                              <option value="æœªåˆ†ç»„">æœªåˆ†ç»„</option>
                              <!-- åŠ¨æ€ç”Ÿæˆåˆ†ç»„é€‰é¡¹ -->
                          </select>
                          <button type="button" class="btn-manage-groups" onclick="showGroupManager()" title="ç®¡ç†åˆ†ç»„">ç®¡ç†</button>
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="config-platform">å¹³å°</label>
                                                <div class="platform-selector">
                          <select id="config-platform" onchange="handlePlatformChange('config')">
                              <option value="">é€‰æ‹©å¹³å°</option>
                              <option value="xiaohongshu.com">å°çº¢ä¹¦</option>
                              <option value="douyin.com">æŠ–éŸ³</option>
                              <option value="weibo.com">å¾®åš</option>
                              <option value="kuaishou.com">å¿«æ‰‹</option>
                              <option value="custom">+ è‡ªå®šä¹‰å¹³å°</option>
                          </select>
                          <div id="config-custom-platform" class="custom-platform-input" style="display: none;">
                              <input type="text" id="config-custom-url" placeholder="è¾“å…¥è‡ªå®šä¹‰å¹³å°ç½‘å€ï¼Œå¦‚ï¼šexample.com" onblur="addCustomPlatform('config')" onkeypress="handleCustomPlatformKeypress(event, 'config')">
                              <button type="button" class="btn-icon" onclick="cancelCustomPlatform('config')" title="å–æ¶ˆ">Ã—</button>
                          </div>
                          <button type="button" class="btn-manage-platforms" onclick="showPlatformManager()" title="ç®¡ç†è‡ªå®šä¹‰å¹³å°">ç®¡ç†</button>
                      </div>
                  </div>

                  <!-- ä»£ç†é…ç½®åŒºåŸŸ -->
                  <div class="form-group proxy-config-section">
                      <label>
                          <input type="checkbox" id="config-proxy-enabled" onchange="toggleProxyConfig('config')"> 
                          ä½¿ç”¨ä»£ç†
                      </label>
                      <div id="config-proxy-config" class="proxy-config-panel" style="display: none;">
                          <div class="proxy-config-row">
                              <div class="proxy-config-item">
                                  <label for="config-proxy-type">ä»£ç†ç±»å‹</label>
                                  <select id="config-proxy-type">
                                      <option value="http">HTTP</option>
                                      <option value="socks4">SOCKS4</option>
                                      <option value="socks5">SOCKS5</option>
                                  </select>
                              </div>
                              <div class="proxy-config-item">
                                  <label for="config-proxy-host">ä»£ç†åœ°å€</label>
                                  <input type="text" id="config-proxy-host" placeholder="127.0.0.1">
                              </div>
                              <div class="proxy-config-item">
                                  <label for="config-proxy-port">ç«¯å£</label>
                                  <input type="number" id="config-proxy-port" placeholder="8080" min="1" max="65535">
                              </div>
                          </div>
                          <div class="proxy-config-row">
                              <div class="proxy-config-item">
                                  <label for="config-proxy-username">ç”¨æˆ·å (å¯é€‰)</label>
                                  <input type="text" id="config-proxy-username" placeholder="ç”¨æˆ·å">
                              </div>
                              <div class="proxy-config-item">
                                  <label for="config-proxy-password">å¯†ç  (å¯é€‰)</label>
                                  <input type="password" id="config-proxy-password" placeholder="å¯†ç ">
                              </div>
                              <div class="proxy-config-item">
                                  <button type="button" class="btn-test-proxy" onclick="testProxyConnection('config')">
                                      ğŸ”— æµ‹è¯•è¿æ¥
                                  </button>
                              </div>
                          </div>
                          <div class="proxy-config-note">
                              <small>ğŸ’¡ ä½¿ç”¨ä»£ç†å¯ä»¥è®©æ¯ä¸ªè´¦å·æ‹¥æœ‰ä¸åŒçš„IPåœ°å€ï¼Œæå‡éšç§ä¿æŠ¤</small>
                          </div>
                      </div>
                  </div>


                      <!-- ä¸€é”®éšæœºç”ŸæˆæŒ‡çº¹é…ç½® -->
                      <div class="proxy-option">
                          <button type="button" class="btn-generate-config" onclick="generateRandomConfig('config')">
                              ä¸€é”®éšæœºç”ŸæˆæŒ‡çº¹é…ç½®
                          </button>
                      </div>
                  </div>
                  <div class="form-group">
                      <label for="config-note">å¤‡æ³¨</label>
                      <textarea id="config-note" rows="3" placeholder="è¾“å…¥å¤‡æ³¨ä¿¡æ¯"></textarea>
                  </div>
              </div>
          </div>
      </div>

      <!-- åˆ é™¤ç¡®è®¤æ¨¡æ€æ¡† -->
      <div id="delete-account-modal" class="modal" onclick="closeDeleteAccountModal(event)">
          <div class="modal-content" onclick="event.stopPropagation()">
              <div class="modal-header">
                  <h3>åˆ é™¤ç¡®è®¤</h3>
                  <div class="modal-actions">
                      <button class="btn-danger" onclick="confirmDeleteAccounts()">åˆ é™¤</button>
                      <button class="btn-secondary" onclick="closeDeleteAccountModal()">å–æ¶ˆ</button>
                  </div>
              </div>
              <div class="modal-body">
                  <p id="delete-confirmation-text">ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„è´¦å·å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚</p>
              </div>
          </div>
      </div>

      <!-- å¹³å°ç®¡ç†å™¨æ¨¡æ€æ¡† -->
      <div id="platform-manager-modal" class="modal" onclick="closePlatformManager(event)">
          <div class="modal-content config-modal" onclick="event.stopPropagation()">
              <div class="modal-header">
                  <h3>è‡ªå®šä¹‰å¹³å°ç®¡ç†</h3>
                  <div class="modal-actions">
                      <button class="btn-secondary" onclick="closePlatformManager()">å…³é—­</button>
                  </div>
              </div>
              <div class="modal-body">
                  <div class="platform-manager">
                      <div class="platform-list" id="custom-platform-list">
                          <!-- è‡ªå®šä¹‰å¹³å°åˆ—è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                      </div>
                      <div class="no-platforms" id="no-platforms-message" style="display: none;">
                          <p>æš‚æ— è‡ªå®šä¹‰å¹³å°</p>
                          <p class="hint">åœ¨åˆ›å»ºè´¦å·æˆ–é…ç½®çª—å£æ—¶é€‰æ‹©"+ è‡ªå®šä¹‰å¹³å°"æ¥æ·»åŠ æ–°å¹³å°</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>

      <!-- è‡ªå®šä¹‰è¾“å…¥å¯¹è¯æ¡† -->
      <div id="custom-prompt-modal" class="modal">
          <div class="modal-content" style="max-width: 400px;">
              <div class="modal-header">
                  <h3 id="prompt-title">è¾“å…¥</h3>
                  <span class="close" onclick="closeCustomPrompt()">&times;</span>
              </div>
              <div class="modal-body">
                  <div class="form-group">
                      <label id="prompt-label">è¯·è¾“å…¥:</label>
                      <input type="text" id="prompt-input" placeholder="" maxlength="20" onkeypress="handlePromptKeypress(event)">
                  </div>
                  <div class="form-actions">
                      <button class="btn-primary" onclick="confirmCustomPrompt()">ç¡®è®¤</button>
                      <button class="btn-secondary" onclick="closeCustomPrompt()">å–æ¶ˆ</button>
                  </div>
              </div>
          </div>
      </div>

      <!-- åˆ†ç»„ç®¡ç†å™¨æ¨¡æ€æ¡† -->
      <div id="group-manager-modal" class="modal" onclick="closeGroupManager(event)">
          <div class="modal-content config-modal" onclick="event.stopPropagation()">
              <div class="modal-header">
                  <h3>åˆ†ç»„ç®¡ç†</h3>
                  <div class="modal-actions">
                      <button class="btn-primary" onclick="showAddGroupForm()">æ·»åŠ åˆ†ç»„</button>
                      <button class="btn-secondary" onclick="closeGroupManager()">å…³é—­</button>
                  </div>
              </div>
              <div class="modal-body">
                  <div class="group-manager">
                      <!-- æ·»åŠ åˆ†ç»„è¡¨å• -->
                      <div class="add-group-form" id="add-group-form" style="display: none;">
                          <div class="form-group">
                              <label for="new-group-name">åˆ†ç»„åç§°</label>
                              <input type="text" id="new-group-name" placeholder="è¾“å…¥åˆ†ç»„åç§°" maxlength="20" onkeypress="handleGroupNameKeypress(event)">
                          </div>
                          <div class="form-actions">
                              <button class="btn-primary" onclick="addNewGroup()">æ·»åŠ </button>
                              <button class="btn-secondary" onclick="hideAddGroupForm()">å–æ¶ˆ</button>
                          </div>
                      </div>
                      
                      <!-- åˆ†ç»„åˆ—è¡¨ -->
                      <div class="group-list" id="custom-group-list">
                          <!-- è‡ªå®šä¹‰åˆ†ç»„åˆ—è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                      </div>
                      <div class="no-groups" id="no-groups-message" style="display: none;">
                          <p>æš‚æ— è‡ªå®šä¹‰åˆ†ç»„</p>
                          <p class="hint">ç‚¹å‡»"æ·»åŠ åˆ†ç»„"æ¥åˆ›å»ºæ–°çš„åˆ†ç»„</p>
                      </div>
                  </div>
              </div>
          </div>
      </div>

      <!-- åº•éƒ¨çŠ¶æ€æ  -->
    <div class="status-bar">
        <span id="status-text">127.0.0.1:5000/#</span>
        <div class="status-actions">
            <span id="license-status" class="license-status">è®¸å¯è¯çŠ¶æ€æ£€æŸ¥ä¸­...</span>
            <button id="license-btn" class="status-btn" onclick="openLicenseManager()" style="display: none;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                    <path d="M9 11L11 13L15 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                ä¼šå‘˜ä¸­å¿ƒ
            </button>
            <button id="activate-btn" class="status-btn" onclick="openActivation()" style="display: none;">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                    <path d="M15 9L9 15M9 9l6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                æ¿€æ´»è½¯ä»¶
            </button>
            <button id="test-api-btn" onclick="window.testElectronAPI && window.testElectronAPI.runFullTest()" style="margin-left: 10px; padding: 4px 8px; font-size: 12px; background: #007acc; color: white; border: none; border-radius: 3px; cursor: pointer;">ğŸ§ª æµ‹è¯•API</button>
        </div>
    </div>

    <!-- å›¾ç‰‡åº“é€‰æ‹©å¼¹çª— -->
    <div id="gallery-selector-modal" class="modal" onclick="closeGallerySelector(event)">
        <div class="modal-dialog gallery-selector-dialog">
            <div class="modal-header">
                <h3>ä»å›¾ç‰‡åº“é€‰æ‹©å›¾ç‰‡</h3>
                <button class="close-btn" onclick="closeGallerySelector()">&times;</button>
            </div>
            <div class="modal-body gallery-selector-body">
                <div id="gallery-selector-empty" class="gallery-empty" style="display: none;">
                    <div class="empty-icon">ğŸ“·</div>
                    <p>å›¾ç‰‡åº“æ˜¯ç©ºçš„</p>
                    <p class="empty-hint">è¯·å…ˆåˆ°æ–‡ç”Ÿå›¾é¡µé¢ç”Ÿæˆå¹¶ä¿å­˜ä¸€äº›å›¾ç‰‡</p>
                </div>
                <div id="gallery-selector-grid" class="gallery-selector-grid">
                    <!-- å›¾ç‰‡åº“é¡¹ç›®å°†åŠ¨æ€åŠ è½½åˆ°è¿™é‡Œ -->
                </div>
            </div>
            <div class="modal-footer">
                <div class="selected-count">
                    å·²é€‰æ‹© <span id="selected-count">0</span> å¼ å›¾ç‰‡
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeGallerySelector()">å–æ¶ˆ</button>
                    <button type="button" class="btn btn-primary" onclick="confirmGallerySelection()">ç¡®è®¤é€‰æ‹©</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="test-api.js"></script>
    <script src="quick-test.js"></script>
    <!-- å†…å®¹é¢„è§ˆæ¨¡æ€æ¡† -->
    <div class="content-preview-modal" id="content-preview-modal">
        <div class="preview-modal-content">
            <div class="preview-modal-header">
                <h3 class="preview-modal-title" id="preview-modal-title">
                    <span>ğŸ”</span>
                    <span>å†…å®¹é¢„è§ˆ</span>
                </h3>
                <button class="preview-close-btn" onclick="closeContentPreview()">Ã—</button>
            </div>
            <div class="preview-modal-body" id="preview-modal-body">
                <!-- é¢„è§ˆå†…å®¹å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script src="auth-checker.js"></script>
    <script src="script.js"></script>
    
    <script>
        // æ— å¤´æ¨¡å¼çŠ¶æ€ç®¡ç†ï¼ˆå…¨å±€å˜é‡ï¼‰
        window.isHeadlessMode = false;
        
        // åˆå§‹åŒ–æ— å¤´æ¨¡å¼è®¾ç½®
        function initHeadlessMode() {
            const savedMode = localStorage.getItem('headless-mode');
            if (savedMode !== null) {
                window.isHeadlessMode = savedMode === 'true';
                const checkbox = document.getElementById('headless-mode-checkbox');
                if (checkbox) {
                    checkbox.checked = window.isHeadlessMode;
                }
            }
        }
        
        // åˆ‡æ¢æ— å¤´æ¨¡å¼
        function toggleHeadlessMode() {
            const checkbox = document.getElementById('headless-mode-checkbox');
            window.isHeadlessMode = checkbox.checked;
            
            // ä¿å­˜è®¾ç½®åˆ°æœ¬åœ°å­˜å‚¨
            localStorage.setItem('headless-mode', window.isHeadlessMode.toString());
            
            // æ˜¾ç¤ºçŠ¶æ€æç¤º
            showHeadlessModeStatus();
            
            console.log('æ— å¤´æ¨¡å¼å·²', window.isHeadlessMode ? 'å¯ç”¨' : 'ç¦ç”¨');
        }
        
        // æ˜¾ç¤ºæ— å¤´æ¨¡å¼çŠ¶æ€æç¤º
        function showHeadlessModeStatus() {
            const existingToast = document.querySelector('.headless-toast');
            if (existingToast) {
                existingToast.remove();
            }
            
            const toast = document.createElement('div');
            toast.className = 'headless-toast';
            toast.innerHTML = `
                <div style="
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: ${window.isHeadlessMode ? '#10b981' : '#f59e0b'};
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    font-size: 14px;
                    font-weight: 500;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                    z-index: 10000;
                    animation: slideIn 0.3s ease-out;
                ">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            ${window.isHeadlessMode ? 
                                '<path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>' : 
                                '<path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L4.35 16.5c-.77.833.192 2.5 1.732 2.5z"/>'
                            }
                        </svg>
                        <span>æ— å¤´æ¨¡å¼å·²${window.isHeadlessMode ? 'å¯ç”¨' : 'ç¦ç”¨'}</span>
                    </div>
                </div>
            `;
            
            document.body.appendChild(toast);
            
            // 3ç§’åè‡ªåŠ¨ç§»é™¤æç¤º
            setTimeout(() => {
                if (toast.parentNode) {
                    toast.remove();
                }
            }, 3000);
        }
        
        // è·å–å½“å‰æ— å¤´æ¨¡å¼çŠ¶æ€
        function getHeadlessMode() {
            return window.isHeadlessMode;
        }
        
        // è·å–æµè§ˆå™¨å¯åŠ¨é…ç½®ï¼ˆåŒ…å«æ— å¤´æ¨¡å¼ï¼‰
        function getBrowserLaunchOptions(baseOptions = {}) {
            return {
                ...baseOptions,
                headless: window.isHeadlessMode
            };
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initHeadlessMode();
            
            // æ·»åŠ åˆ‡æ¢äº‹ä»¶ç›‘å¬å™¨
            const checkbox = document.getElementById('headless-mode-checkbox');
            if (checkbox) {
                checkbox.addEventListener('change', toggleHeadlessMode);
            }
        });
        
        // æ·»åŠ CSSåŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(100%);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
